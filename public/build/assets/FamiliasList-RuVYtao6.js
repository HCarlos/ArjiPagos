import{$ as h}from"./jquery-S2mROG-R.js";import{j as r,h as b,i as g,k as E,l as _,p as T,e as k,o as f,w as o,b as s,a as n,t as x,s as j,v as N,d as Z,c as y,F as q,q as A,W as C}from"./app-B-xT1xC4.js";import{_ as L}from"./AuthenticatedLayout-CpipU0hP.js";import{_ as R}from"./Pagination-CmPHEdRM.js";/* empty css                                  */import{_ as U}from"./PrimaryButton-B8LfkA2B.js";import{_ as i}from"./SecondaryButton-DwOFVo4Z.js";import"./dataTables-CasdTq_G.js";import W from"./FormModalFamilia-Is9ZQ0My.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-Yq1aOB8s.js";import"./TextInput-D60uB1gs.js";import"./InputError-C1y2W_1V.js";const z={class:"p-4 bg-white rounded-lg shadow-xs"},P={class:"inline-flex overflow-hidden mb-4 w-full bg-white rounded-lg shadow-md"},G={class:"px-4 py-2 -mx-3 w-full"},H={class:"mx-3 float-start"},I={class:"font-semibold text-blue-500"},J={class:"float-end px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase sm:grid-cols-9"},K={action:"/familias"},O={class:"float-end px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase sm:grid-cols-9"},Q={class:"mt-6 overflow-x-auto"},X={id:"datasTable",class:"w-full whitespace-no-wrap"},Y={class:"bg-white divide-y"},ss=["id"],ts={class:"px-4 py-3 text-sm"},as={class:"px-4 py-3 text-sm"},ls={class:"px-4 py-3 text-sm td-buttons"},hs={__name:"FamiliasList",setup(es){r(null);const m=b(()=>g().props.familias),F=b(()=>g().props.totalFamilias),d=r(""),u=r(!1),e=r({});r("nuevo"),E(async()=>{await _()}),T(()=>{});const $=()=>{C.reload({only:["totalFamilias","familias"],preserveScroll:!0,onFinish:async()=>{await _(),u.value=!1,e.value=null,console.log("ðŸ”¥ Datos actualizados (modo desarrollo)",m.value.data)}})},w=a=>{e.value=a!==null?{...a}:{},console.log("Ventana open recibido",e.value),u.value=!0},B=()=>{e.value=null,u.value=!1,console.log("Ventana close recibido")},D=function(){window.location.reload()},M=a=>{if(confirm("Â¿EstÃ¡s seguro de que deseas eliminar el Item "+a+" ?")){const t=route("familia.delete",a);C["delete"](t,{preserveScroll:!0,onSuccess:()=>{h("#tblData-"+a).remove()},onError:c=>{errors.value=c},onFinish:()=>{h("#tblData-"+a).remove()}})}},V=a=>{e.value=a!==null?{...a}:{},window.location.href="/familiaElements/"+e.value.id},S=a=>{e.value=a!==null?{...a}:{},window.location.href="/familiaRegFis/"+e.value.id};return(a,t)=>(f(),k(L,null,{default:o(()=>{var p,c;return[s("div",z,[s("div",P,[t[6]||(t[6]=s("div",{class:"flex justify-center items-center w-12 bg-blue-500"},[s("svg",{"data-slot":"icon","aria-hidden":"true",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-white"},[s("path",{d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),s("div",G,[s("span",H,[s("span",I,"("+x(F.value)+") Familias ",1),t[2]||(t[2]=s("p",{class:"text-sm text-gray-600"},"CatÃ¡lago general",-1))]),n(i,{onClick:t[0]||(t[0]=l=>w(null)),class:"mr-2"},{default:o(()=>t[3]||(t[3]=[s("i",{class:"mr-2 fas fa-plus"},null,-1)])),_:1}),n(i,{onClick:D,class:"mr-2"},{default:o(()=>t[4]||(t[4]=[s("i",{class:"mr-2 fas fa-refresh"},null,-1)])),_:1}),(f(),k(W,{key:((c=(p=e.value)==null?void 0:p.value)==null?void 0:c.id)??"nuevo",show:u.value,familia:e.value,onClose:B,onSuccess:$},null,8,["show","familia"])),s("span",J,[s("form",K,[j(s("input",{type:"text",name:"search","onUpdate:modelValue":t[1]||(t[1]=l=>d.value=l),id:"search",placeholder:"Buscar..."},null,512),[[N,d.value]]),n(U,{"class-btn":"float-end ml-2",show:d.value.length===0,disabled:d.value.length===0,type:"submit"},{default:o(()=>t[5]||(t[5]=[Z("Buscar")])),_:1},8,["show","disabled"])])]),s("span",O,[n(R,{links:m.value.links},null,8,["links"])])])]),s("div",Q,[s("table",X,[t[11]||(t[11]=s("thead",null,[s("tr",{class:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase bg-gray-50 border-b"},[s("th",{class:"px-4 py-3"},"ID"),s("th",{class:"px-4 py-3"},"Familia"),s("th",{class:"px-4 py-3"})])],-1)),s("tbody",Y,[(f(!0),y(q,null,A(m.value.data,l=>(f(),y("tr",{key:l.id,class:"text-gray-700 delete-button",id:"tblData-"+l.id},[s("td",ts,x(l.id),1),s("td",as,x(l.familia),1),s("td",ls,[n(i,{as:"button",onClick:v=>M(l.id),class:"icon-button-trash"},{default:o(()=>t[7]||(t[7]=[s("i",{class:"fa fa-trash"},null,-1)])),_:2},1032,["onClick"]),n(i,{as:"button",onClick:v=>w(l),class:"icon-button-edit"},{default:o(()=>t[8]||(t[8]=[s("i",{class:"fa fa-edit"},null,-1)])),_:2},1032,["onClick"]),n(i,{as:"button",onClick:v=>V(l),class:"icon-button-users"},{default:o(()=>t[9]||(t[9]=[s("i",{class:"fa fa-users"},null,-1)])),_:2},1032,["onClick"]),n(i,{as:"button",onClick:v=>S(l),class:"icon-button-card"},{default:o(()=>t[10]||(t[10]=[s("i",{class:"fa fa-credit-card"},null,-1)])),_:2},1032,["onClick"])])],8,ss))),128))])])])])]}),_:1}))}};export{hs as default};
