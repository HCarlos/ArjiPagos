import{k as b,C as k,J as C,z as U,o as c,w as m,f as a,t as y,u as s,A as B,e as o,B as E,g as v,d as x,F as V}from"./vendor-DjFIUTS1.js";import{_ as F}from"./Modal-Cn6cI5Zs.js";import{_ as $}from"./PrimaryButton-B0op7gHA.js";import{_ as S}from"./SecondaryButton-DM6w04Lp.js";import{_ as i}from"./InputLabel-CgOoo3kk.js";import{_ as t}from"./TextInput-DW3f-pjc.js";import{_ as f}from"./InputError-w8Dq4Fot.js";const z={class:"p-8 bg-white rounded-xl shadow-lg border border-gray-100"},M={class:"mb-6 flex items-center justify-between border-b border-gray-200 pb-4"},A={class:"text-2xl font-bold text-gray-800"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},O={class:"space-y-4"},D={class:"grid grid-cols-2 gap-4"},J={class:"space-y-4"},P={class:"grid grid-cols-2 gap-4"},T={class:"space-y-4"},q={class:"grid grid-cols-2 gap-4"},H={class:"flex justify-end gap-4 border-t border-gray-200 pt-6"},Y={__name:"FormModalNivel",props:{show:Boolean,nivel:{type:Object,default:()=>({})}},emits:["close","success"],setup(p,{emit:w}){const h=p,_=w,u=b(!1),g=b({}),e=k({id:0,nivel:"",clave_nivel:"",clave_registro_nivel:"",nivel_oficial:"",nivel_fiscal:"",prefijo_evaluacion:"",numero_evaluaciones:"",fecha_actas:""});C(()=>h.nivel,n=>{n&&Object.keys(n).length>0?(e.defaults({...n}),e.reset()):(e.reset(),e.clearErrors(),e.defaults({id:0,nivel:"",clave_nivel:"",clave_registro_nivel:"",nivel_oficial:"",nivel_fiscal:"",prefijo_evaluacion:"",numero_evaluaciones:"",fecha_actas:""}))},{immediate:!0,deep:!0});const j=()=>{u.value=!0,g.value={};const n=e.id?"/nivel.update":"/nivel.store";e.transform(l=>({...l})).submit(e.id?"put":"post",n,{preserveScroll:!0,onSuccess:()=>{_("success"),d()},onError:l=>{u.value=!1,g.value=l},onFinish:()=>{u.value=!1}})},d=()=>{e.reset(),e.clearErrors(),N(),_("close")},N=()=>{e.reset(),e.clearErrors(),e.defaults({id:0,nivel:"",clave_nivel:"",clave_registro_nivel:"",nivel_oficial:"",nivel_fiscal:"",prefijo_evaluacion:"",numero_evaluaciones:"",fecha_actas:""})};return(n,l)=>(c(),U(F,{show:p.show,onClose:d,"max-width":"2xl"},{default:m(()=>[a("div",z,[a("div",M,[a("h2",A," 📊 "+y(s(e).id?"Editar":"Nuevo")+" Nivel ",1),a("button",{onClick:d,class:"text-gray-500 hover:text-gray-700"},l[8]||(l[8]=[a("i",{class:"fas fa-times text-lg"},null,-1)]))]),a("form",{onSubmit:B(j,["prevent"]),class:"space-y-6"},[a("div",G,[a("div",O,[a("div",null,[o(i,{value:"🏷️ Nombre del nivel",class:"mb-2 font-medium"}),o(t,{modelValue:s(e).nivel,"onUpdate:modelValue":l[0]||(l[0]=r=>s(e).nivel=r),type:"text",class:E(["w-full p-3 border-2 border-gray-200 rounded-xl focus:border-indigo-500",{"border-red-500":s(e).errors.nivel}])},null,8,["modelValue","class"]),o(f,{message:s(e).errors.nivel,class:"mt-1"},null,8,["message"])]),a("div",D,[a("div",null,[o(i,{value:"🔑 Clave nivel",class:"mb-2 font-medium"}),o(t,{modelValue:s(e).clave_nivel,"onUpdate:modelValue":l[1]||(l[1]=r=>s(e).clave_nivel=r),type:"text",class:"w-full p-3 border-2 border-gray-200 rounded-xl"},null,8,["modelValue"]),o(f,{message:s(e).errors.clave_nivel,class:"mt-1"},null,8,["message"])]),a("div",null,[o(i,{value:"🗝️ Clave registro",class:"mb-2 font-medium"}),o(t,{modelValue:s(e).clave_registro_nivel,"onUpdate:modelValue":l[2]||(l[2]=r=>s(e).clave_registro_nivel=r),type:"text",class:"w-full p-3 border-2 border-gray-200 rounded-xl"},null,8,["modelValue"]),o(f,{message:s(e).errors.clave_registro_nivel,class:"mt-1"},null,8,["message"])])])]),a("div",J,[a("div",P,[a("div",null,[o(i,{value:"🏛️ Nivel oficial",class:"mb-2 font-medium"}),o(t,{modelValue:s(e).nivel_oficial,"onUpdate:modelValue":l[3]||(l[3]=r=>s(e).nivel_oficial=r),type:"text",class:"w-full p-3 border-2 border-gray-200 rounded-xl"},null,8,["modelValue"])]),a("div",null,[o(i,{value:"💰 Nivel fiscal",class:"mb-2 font-medium"}),o(t,{modelValue:s(e).nivel_fiscal,"onUpdate:modelValue":l[4]||(l[4]=r=>s(e).nivel_fiscal=r),type:"text",class:"w-full p-3 border-2 border-gray-200 rounded-xl"},null,8,["modelValue"])])]),a("div",T,[a("div",q,[a("div",null,[o(i,{value:"🏷️ Prefijo evaluación",class:"mb-2 font-medium"}),o(t,{modelValue:s(e).prefijo_evaluacion,"onUpdate:modelValue":l[5]||(l[5]=r=>s(e).prefijo_evaluacion=r),type:"text",class:"w-full p-3 border-2 border-gray-200 rounded-xl"},null,8,["modelValue"])]),a("div",null,[o(i,{value:"🔢 Número evaluaciones",class:"mb-2 font-medium"}),o(t,{modelValue:s(e).numero_evaluaciones,"onUpdate:modelValue":l[6]||(l[6]=r=>s(e).numero_evaluaciones=r),type:"number",class:"w-full p-3 border-2 border-gray-200 rounded-xl"},null,8,["modelValue"])])]),a("div",null,[o(i,{value:"📅 Fecha actas",class:"mb-2 font-medium"}),o(t,{modelValue:s(e).fecha_actas,"onUpdate:modelValue":l[7]||(l[7]=r=>s(e).fecha_actas=r),type:"date",class:"w-full p-3 border-2 border-gray-200 rounded-xl"},null,8,["modelValue"])])])])]),a("div",H,[o(S,{onClick:d,type:"button",class:"px-6 py-3 rounded-xl bg-gray-100 hover:bg-gray-200 transition-colors"},{default:m(()=>l[9]||(l[9]=[v(" ❌ Cancelar ")])),_:1}),o($,{type:"submit",disabled:s(e).processing,class:"px-6 py-3 rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white font-semibold transition-colors"},{default:m(()=>[s(e).processing?(c(),x(V,{key:0},[l[10]||(l[10]=a("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1)),l[11]||(l[11]=v(" Guardando... "))],64)):(c(),x(V,{key:1},[v(" 💾 "+y(s(e).id?"Actualizar":"Guardar"),1)],64))]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]))}};export{Y as default};
