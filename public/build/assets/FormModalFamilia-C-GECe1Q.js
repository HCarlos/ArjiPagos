import{j as b,C as h,p as C,e as U,o as u,w as f,b as l,t as x,u as s,f as k,a as o,d as V,c as y}from"./app-C_9KI9es.js";import{_ as F}from"./Modal-CwMvZuF2.js";import{_ as i,a as t,b as m}from"./TextInput-Bj92w6JM.js";import{_ as $}from"./PrimaryButton-Cl7XCYnZ.js";import{_ as B}from"./SecondaryButton-V28EdxOf.js";import"./jquery-S2mROG-R.js";const N={class:"p-6 bg-white rounded-lg"},S={class:"text-2xl font-bold mb-6 text-gray-800"},j={class:"grid grid-cols-1 md:grid-cols-1 gap-6 mb-6"},M={class:"grid grid-cols-2 md:grid-cols-2 gap-6 mb-6"},O={class:"grid grid-cols-2 md:grid-cols-2 gap-6 mb-6"},P={class:"grid grid-cols-3 md:grid-cols-3 gap-6 mb-6"},q={class:"flex justify-end space-x-4 mt-8"},z={key:0},A={key:1},L={__name:"FormModalFamilia",props:{show:Boolean,familia:{type:Object,default:()=>({})}},emits:["close","success"],setup(_,{emit:w}){const g=_,{familia:D}=g,p=w,c=b(!1),v=b({}),e=h({id:0,familia:"",observaciones_control_escolar:"",observaciones_pagos:"",convenios:"",email_pagos:"",email_facturas:"",email_control_escolar:"",email_convenios:""});C(()=>g.familia,n=>{n.id&&e.defaults({...n}),e.reset()},{immediate:!0,deep:!0});const E=()=>{c.value=!0,v.value={};const n=e.id?"/familia.update":"/familia.store";e.transform(a=>({...a})).submit(e.id?"put":"post",n,{preserveScroll:!0,onSuccess:()=>{p("success"),d()},onError:a=>{c.value=!1,v.value=a},onFinish:()=>{c.value=!1}})},d=()=>{e.reset(),e.clearErrors(),p("close")};return(n,a)=>(u(),U(F,{show:_.show,onClose:d,"max-width":"2xl"},{default:f(()=>[l("div",N,[l("h2",S,x(s(e).id?"Editar":"Nueva")+" Familia ",1),l("form",{onSubmit:k(E,["prevent"])},[l("div",j,[l("div",null,[o(i,{for:"familia",value:"Familia *",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"familia",modelValue:s(e).familia,"onUpdate:modelValue":a[0]||(a[0]=r=>s(e).familia=r),type:"text",class:"w-full",error:s(e).errors.familia,maxlength:"250",required:""},null,8,["modelValue","error"]),o(m,{message:s(e).errors.familia,class:"mt-2"},null,8,["message"])])]),l("div",M,[l("div",null,[o(i,{for:"observaciones_control_escolar",value:"Obs. CE",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"observaciones_control_escolar",modelValue:s(e).observaciones_control_escolar,"onUpdate:modelValue":a[1]||(a[1]=r=>s(e).observaciones_control_escolar=r),type:"text",class:"w-full",error:s(e).errors.observaciones_control_escolar,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.observaciones_control_escolar,class:"mt-2"},null,8,["message"])]),l("div",null,[o(i,{for:"observaciones_pagos",value:"Obs. Pagos",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"observaciones_pagos",modelValue:s(e).observaciones_pagos,"onUpdate:modelValue":a[2]||(a[2]=r=>s(e).observaciones_pagos=r),type:"text",class:"w-full",error:s(e).errors.observaciones_pagos,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.observaciones_pagos,class:"mt-2"},null,8,["message"])])]),l("div",O,[l("div",null,[o(i,{for:"convenios",value:"Convenios",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"convenios",modelValue:s(e).convenios,"onUpdate:modelValue":a[3]||(a[3]=r=>s(e).convenios=r),type:"text",class:"w-full",error:s(e).errors.convenios,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.convenios,class:"mt-2"},null,8,["message"])]),l("div",null,[o(i,{for:"email_pagos",value:"Emails Pagos",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"email_pagos",modelValue:s(e).email_pagos,"onUpdate:modelValue":a[4]||(a[4]=r=>s(e).email_pagos=r),type:"text",class:"w-full",error:s(e).errors.email_pagos,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.email_pagos,class:"mt-2"},null,8,["message"])])]),l("div",P,[l("div",null,[o(i,{for:"email_facturas",value:"Emails Facturas",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"email_facturas",modelValue:s(e).email_facturas,"onUpdate:modelValue":a[5]||(a[5]=r=>s(e).email_facturas=r),type:"text",class:"w-full",error:s(e).errors.email_facturas,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.email_facturas,class:"mt-2"},null,8,["message"])]),l("div",null,[o(i,{for:"email_control_escolar",value:"Emails CE",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"email_control_escolar",modelValue:s(e).email_control_escolar,"onUpdate:modelValue":a[6]||(a[6]=r=>s(e).email_control_escolar=r),type:"text",class:"w-full",error:s(e).errors.email_control_escolar,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.email_control_escolar,class:"mt-2"},null,8,["message"])]),l("div",null,[o(i,{for:"email_convenios",value:"Emails Convenios",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"email_convenios",modelValue:s(e).email_convenios,"onUpdate:modelValue":a[7]||(a[7]=r=>s(e).email_convenios=r),type:"text",class:"w-full",error:s(e).errors.email_convenios,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.email_convenios,class:"mt-2"},null,8,["message"])])]),l("div",q,[o(B,{onClick:d,type:"button"},{default:f(()=>a[8]||(a[8]=[V(" Cancelar ")])),_:1}),o($,{type:"submit",disabled:s(e).processing},{default:f(()=>[s(e).processing?(u(),y("span",z,a[9]||(a[9]=[l("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),V(" Procesando... ")]))):(u(),y("span",A,x(s(e).id?"Actualizar":"Guardar"),1))]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]))}};export{L as default};
