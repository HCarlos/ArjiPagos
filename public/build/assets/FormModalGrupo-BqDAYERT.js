import{k as f,C as q,J as P,z as S,o as c,w as v,f as l,t as g,u as s,A as I,d as y,F as x,q as N,B as G,g as _,s as C,e as r,M as k}from"./vendor-DjFIUTS1.js";import{_ as z}from"./Modal-Cn6cI5Zs.js";import{_ as A}from"./PrimaryButton-B0op7gHA.js";import{_ as F}from"./SecondaryButton-DM6w04Lp.js";import{_ as d}from"./InputLabel-CgOoo3kk.js";import{_ as u}from"./TextInput-DW3f-pjc.js";import{_ as V}from"./InputError-w8Dq4Fot.js";import{_ as i}from"./ToggleSwitch-DRPVYBwY.js";const M={class:"p-8 bg-white rounded-xl shadow-lg border border-gray-100"},O={class:"mb-6 flex items-center justify-between border-b border-gray-200 pb-4"},D={class:"text-2xl font-bold text-gray-800"},T={class:"border-b border-gray-200 bg"},R={class:"flex space-x-8","aria-label":"Tabs"},H=["onClick"],J={class:"tab-content"},L={class:"space-y-8"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},Q={class:"space-y-6"},W={class:"grid grid-cols-2 gap-4"},X={class:"space-y-6"},Y={class:"grid grid-cols-1 gap-4"},Z={class:"grid grid-cols-1 gap-4"},ee={class:"bg-gradient-to-r from-indigo-50 to-blue-50 p-6 rounded-2xl flex items-center justify-between"},oe={class:"space-y-2"},se={class:"text-sm text-indigo-600"},le={class:"space-y-8"},ae={class:"bg-indigo-50 p-6 rounded-2xl space-y-8"},re={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ie={class:"space-y-8"},te={class:"flex justify-end gap-4 border-t border-gray-200 pt-8"},ye={__name:"FormModalGrupo",props:{show:Boolean,grupo:{type:Object,default:()=>({})},niveles:{type:Object,default:()=>({})},ciclos:{type:Object,default:()=>({})}},emits:["close","success"],setup(w,{emit:E}){const m=w,{niveles:de}=m,{ciclos:ue}=m,h=E,b=f(!1),j=f({}),e=q({id:0,grupo_id:0,clave_grupo:"",grupo:"",grupo_oficial:"",grupo_periodo:"",grupo_periodo_ciclo:"",grado:"",grado_pai:"",num:"",is_visible:!0,is_bloqueado:!1,is_activo_en_caja:!0,is_ver_boleta_interna:!1,is_ver_boleta_oficial:!1,is_grupo_pai:!1,status_grupo:!0,grupo_siguiente_id:0});P(()=>m.grupo,t=>{t&&Object.keys(t).length>0?(e.defaults({...t}),e.reset()):(e.reset(),e.clearErrors(),e.defaults({id:0,grupo_id:0,clave_grupo:"",grupo:"",grupo_oficial:"",grupo_periodo:"",grupo_periodo_ciclo:"",grado:"",grado_pai:"",num:"",is_visible:!0,is_bloqueado:!1,is_activo_en_caja:!0,is_ver_boleta_interna:!1,is_ver_boleta_oficial:!1,is_grupo_pai:!1,status_grupo:!0,grupo_siguiente_id:0}))},{immediate:!0,deep:!0});const U=()=>{b.value=!0,j.value={};const t=e.id?"/grupo.update":"/grupo.store";e.transform(o=>({...o})).submit(e.id?"put":"post",t,{preserveScroll:!0,onSuccess:()=>{h("success"),n()},onError:o=>{b.value=!1,j.value=o},onFinish:()=>{b.value=!1}})},n=()=>{e.reset(),e.clearErrors(),B(),h("close")},B=()=>{e.reset(),e.clearErrors(),e.defaults({id:0,grupo_id:0,clave_grupo:"",grupo:"",grupo_oficial:"",grupo_periodo:"",grupo_periodo_ciclo:"",grado:"",grado_pai:"",num:"",is_visible:!0,is_bloqueado:!1,is_activo_en_caja:!0,is_ver_boleta_interna:!1,is_ver_boleta_oficial:!1,is_grupo_pai:!1,status_grupo:!0,grupo_siguiente_id:0})},$=[{name:"basica",label:"Información Básica",icon:"fas fa-info-circle"},{name:"avanzada",label:"Configuraciones",icon:"fas fa-cogs"}],p=f("basica");return(t,o)=>(c(),S(z,{show:w.show,onClose:n,"max-width":"2xl"},{default:v(()=>[l("div",M,[l("div",O,[l("h2",D," 👥 "+g(s(e).id?"Editar":"Nuevo")+" Grupo ",1),l("button",{onClick:n,class:"text-gray-500 hover:text-gray-700"},o[12]||(o[12]=[l("i",{class:"fas fa-times text-lg"},null,-1)]))]),l("form",{onSubmit:I(U,["prevent"]),class:"space-y-8"},[l("div",T,[l("nav",R,[(c(),y(x,null,N($,a=>l("button",{type:"button",key:a.name,onClick:ne=>p.value=a.name,class:G([p.value===a.name?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},[_(g(a.label)+" ",1),l("i",{class:G([a.icon,"ml-2"])},null,2)],10,H)),64))])]),l("div",J,[C(l("div",L,[l("div",K,[l("div",Q,[l("div",null,[r(d,{value:"🔑 Clave del Grupo",class:"mb-2 font-medium"}),r(u,{modelValue:s(e).clave_grupo,"onUpdate:modelValue":o[0]||(o[0]=a=>s(e).clave_grupo=a),type:"text",class:"w-full p-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-200",placeholder:"Ej: GRP-2024-01",error:!!s(e).errors.clave_grupo},null,8,["modelValue","error"]),r(V,{message:s(e).errors.clave_grupo,class:"mt-2"},null,8,["message"])]),l("div",W,[l("div",null,[r(d,{value:"📅 Periodo",class:"mb-2 font-medium"}),r(u,{modelValue:s(e).grupo_periodo,"onUpdate:modelValue":o[1]||(o[1]=a=>s(e).grupo_periodo=a),type:"text",class:"w-full p-3.5 border-2 border-gray-200 rounded-xl",placeholder:"Ej: 2023-2024"},null,8,["modelValue"])]),l("div",null,[r(d,{for:"grado",value:"🎓 Grado",class:"mb-2 font-medium"}),r(u,{modelValue:s(e).grado,"onUpdate:modelValue":o[2]||(o[2]=a=>s(e).grado=a),type:"text",class:"w-full p-3.5 border-2 border-gray-200 rounded-xl",placeholder:"Ej: 2do año"},null,8,["modelValue"]),r(V,{message:s(e).errors.grado,class:"mt-2"},null,8,["message"])])])]),l("div",X,[l("div",Y,[l("div",null,[r(d,{value:"🏫 Nombre del Grupo",class:"mb-2 font-medium"}),r(u,{modelValue:s(e).grupo,"onUpdate:modelValue":o[3]||(o[3]=a=>s(e).grupo=a),type:"text",class:"w-full p-3.5 border-2 border-gray-200 rounded-xl mb-2 font-medium",placeholder:"Ej: Grupo de Secundaria",error:!!s(e).errors.grupo},null,8,["modelValue","error"]),r(V,{message:s(e).errors.grupo,class:"mt-2"},null,8,["message"])]),l("div",null,[r(d,{value:"➡️ Grupo Siguiente ID",class:"mb-2 font-medium"}),r(u,{modelValue:s(e).grupo_siguiente_id,"onUpdate:modelValue":o[4]||(o[4]=a=>s(e).grupo_siguiente_id=a),type:"number",class:"w-full p-3.5 border-2 border-gray-200 rounded-xl mb-2 font-medium",placeholder:"Ej: 456"},null,8,["modelValue"])])])])]),l("div",Z,[l("div",ee,[l("div",oe,[o[13]||(o[13]=l("h4",{class:"text-lg font-bold text-indigo-800"},"📈 Estado del Grupo",-1)),l("p",se,g(s(e).status_grupo?"Activo":"Inactivo"),1)]),r(i,{modelValue:s(e).status_grupo,"onUpdate:modelValue":o[5]||(o[5]=a=>s(e).status_grupo=a),"active-color":s(e).status_grupo?"bg-green-500":"bg-red-500","show-labels":!1},null,8,["modelValue","active-color"])])])],512),[[k,p.value==="basica"]]),C(l("div",le,[l("div",ae,[l("div",re,[r(i,{modelValue:s(e).is_visible,"onUpdate:modelValue":o[6]||(o[6]=a=>s(e).is_visible=a),label:"👀 Visibilidad Pública",description:"Mostrar en listados y selecciones","active-color":"bg-green-500"},null,8,["modelValue"]),r(i,{modelValue:s(e).is_bloqueado,"onUpdate:modelValue":o[7]||(o[7]=a=>s(e).is_bloqueado=a),label:"🔒 Bloqueo de Grupo",description:"Restringir modificaciones","active-color":"bg-red-500"},null,8,["modelValue"]),r(i,{modelValue:s(e).is_activo_en_caja,"onUpdate:modelValue":o[8]||(o[8]=a=>s(e).is_activo_en_caja=a),label:"💰 Activo en Caja",description:"Habilitar para pagos y cobros","active-color":"bg-gray-500"},null,8,["modelValue"]),r(i,{modelValue:s(e).is_ver_boleta_interna,"onUpdate:modelValue":o[9]||(o[9]=a=>s(e).is_ver_boleta_interna=a),label:"📄 Boleta Interna",description:"Permitir generación interna","active-color":"bg-purple-500"},null,8,["modelValue"]),r(i,{modelValue:s(e).is_ver_boleta_oficial,"onUpdate:modelValue":o[10]||(o[10]=a=>s(e).is_ver_boleta_oficial=a),label:"📑 Boleta Oficial",description:"Generar documentos oficiales","active-color":"bg-teal-500"},null,8,["modelValue"]),r(i,{modelValue:s(e).is_grupo_pai,"onUpdate:modelValue":o[11]||(o[11]=a=>s(e).is_grupo_pai=a),label:"🌐 Grupo PAI",description:"Programa Bachillerato Internacional","active-color":"bg-orange-500"},null,8,["modelValue"])])])],512),[[k,p.value==="avanzada"]])]),l("div",ie,[l("div",te,[r(F,{onClick:n,type:"button",class:"px-8 py-3.5 rounded-xl bg-gray-100 hover:bg-gray-200 transition-colors duration-300"},{default:v(()=>o[14]||(o[14]=[_(" ❌ Cancelar ")])),_:1}),r(A,{type:"submit",disabled:s(e).processing,class:"px-8 py-3.5 rounded-xl bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white font-bold shadow-lg transition-all"},{default:v(()=>[s(e).processing?(c(),y(x,{key:0},[o[15]||(o[15]=l("i",{class:"fas fa-spinner fa-spin mr-3"},null,-1)),o[16]||(o[16]=_(" Procesando... "))],64)):(c(),y(x,{key:1},[_(" 💾 "+g(s(e).id?"Actualizar Grupo":"Crear Nuevo Grupo"),1)],64))]),_:1},8,["disabled"])])])],32)])]),_:1},8,["show"]))}};export{ye as default};
