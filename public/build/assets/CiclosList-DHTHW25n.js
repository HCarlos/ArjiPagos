import{j as h,n as y,k as u,p as S,G as _,z as x,o as s,w,f as e,t as n,s as T,e as V,H as z,g as C,d as i,F as k,q as M,I as A,B as f,x as B,W as j}from"./vendor-K2KSp3Ue.js";import{_ as F}from"./AuthenticatedLayout-JIWfdiXR.js";import{_ as H}from"./PrimaryButton-_b3jnecY.js";/* empty css                */import I from"./FormModalCiclo-BU3tp_DE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-FSLHl1Wd.js";import"./SecondaryButton-C79sIAk1.js";import"./InputLabel-CerkKE1y.js";import"./TextInput-DdNDDiHb.js";import"./InputError-BU6s8pqj.js";const L={class:"p-6 bg-white rounded-2xl shadow-sm border border-gray-100"},q={class:"mb-6 p-5 bg-indigo-50 rounded-xl border-l-4 border-indigo-600 shadow-xs flex items-center justify-between"},W={class:"flex items-center gap-4"},G={class:"text-2xl font-bold text-gray-900"},P={class:"flex items-center gap-3"},R={class:"mb-6 flex flex-col md:flex-row gap-4 items-center justify-between"},U={action:"/ciclos",class:"w-full md:w-auto flex gap-2"},J={class:"flex gap-1"},K={class:"overflow-x-auto rounded-xl border border-gray-200 shadow-xs"},O={class:"w-full min-w-[600px]"},Q={class:"divide-y divide-gray-100"},X={class:"px-5 py-4 text-sm font-semibold text-indigo-900"},Y={class:"px-5 py-4 font-medium text-gray-900"},Z={class:"px-5 py-4 border-b border-indigo-100"},ee={class:"flex items-center justify-center gap-2"},te={key:0,class:"absolute -top-1 -right-1 inline-flex h-3 w-3 animate-ping rounded-full bg-green-400 opacity-75"},oe={class:"px-5 py-4 flex items-center gap-2"},se=["onClick"],le=["onClick"],re={key:0},be={__name:"CiclosList",setup(ne){const p=h(()=>y().props.ciclos),$=h(()=>y().props.totalCiclos),a=u(""),d=u(!1),r=u({});u("nuevo"),S(async()=>{await _()});const m=()=>{j.reload({only:["totalCiclos","ciclos"],preserveScroll:!0,onFinish:async()=>{await _(),d.value=!1,r.value=null}})},v=l=>{r.value=l!==null?{...l}:{},d.value=!0},D=()=>{r.value=null,d.value=!1},E=function(){window.location.reload()},N=l=>{if(confirm("¿Estás seguro de que deseas eliminar el Item "+l+" ?")){const o=route("ciclo.delete",l);j["delete"](o,{preserveScroll:!0,onError:c=>{errors.value=c},onFinish:()=>{m()}})}};return(l,o)=>(s(),x(F,null,{default:w(()=>{var g,c;return[e("div",L,[e("div",q,[e("div",W,[o[3]||(o[3]=e("div",{class:"p-2.5 bg-indigo-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),e("div",null,[e("h1",G," 📚 ("+n($.value)+") Ciclos ",1),o[2]||(o[2]=e("p",{class:"mt-1 text-sm text-gray-600 font-medium"}," Catálogo general ",-1))])]),e("div",P,[e("button",{onClick:o[0]||(o[0]=t=>v(null)),class:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Agregar nueva ciclo"},o[4]||(o[4]=[e("i",{class:"fas fa-plus-circle fa-lg"},null,-1)])),e("button",{onClick:E,class:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Recargar datos"},o[5]||(o[5]=[e("i",{class:"fas fa-sync-alt fa-lg"},null,-1)])),(s(),x(I,{key:((c=(g=r.value)==null?void 0:g.value)==null?void 0:c.id)??"nuevo",show:d.value,ciclo:r.value,onClose:D,onSuccess:m},null,8,["show","ciclo"]))])]),e("div",R,[e("form",U,[T(e("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=t=>a.value=t),name:"search",id:"search",placeholder:"🔍 Buscar ciclo...",class:"w-full md:w-64 p-2.5 border-2 border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all"},null,512),[[z,a.value]]),V(H,{type:"submit",class:"h-[42px] px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl shadow-md",show:a.value.length===0,disabled:a.value.length===0},{default:w(()=>o[6]||(o[6]=[C(" Buscar ")])),_:1},8,["show","disabled"])]),e("nav",J,[(s(!0),i(k,null,M(p.value.links,(t,b)=>(s(),x(A(t.url?"a":"span"),{href:t.url,class:f(["px-3 py-1.5 rounded-lg transition-colors",{"bg-indigo-600 text-white":t.active,"text-gray-700 hover:bg-gray-100":!t.active&&t.url,"text-gray-400":!t.url}]),innerHTML:t.label},null,8,["href","class","innerHTML"]))),256))])]),e("div",K,[e("table",O,[o[8]||(o[8]=e("thead",{class:"bg-indigo-50"},[e("tr",{class:"text-left text-sm font-semibold text-indigo-900"},[e("th",{class:"px-5 py-4 border-b border-indigo-100"},"ID"),e("th",{class:"px-5 py-4 border-b border-indigo-100"},"Ciclo"),e("th",{class:"px-5 py-4 border-b border-indigo-100 flex items-center justify-center gap-2"},"Activo"),e("th",{class:"px-5 py-4 border-b border-indigo-100 w-48"},"Acciones")])],-1)),e("tbody",Q,[(s(!0),i(k,null,M(p.value.data,t=>(s(),i("tr",{key:t.id,class:"hover:bg-indigo-50/30 transition-colors group"},[e("td",X,n(t.id),1),e("td",Y,n(t.ciclo),1),e("td",Z,[e("div",ee,[e("span",{class:f(["relative inline-flex h-6 w-6 items-center justify-center rounded-full",t.predeterminado?"bg-green-100":"bg-red-100"])},[C(n(t.predeterminado?"⭐":"🚫")+" ",1),t.predeterminado?(s(),i("span",te)):B("",!0)],2),e("span",{class:f(["text-sm font-medium",t.predeterminado?"text-green-700":"text-red-700"])},n(t.predeterminado?"Activo":"Inactivo"),3)])]),e("td",oe,[e("button",{onClick:b=>N(t.id),class:"text-red-500 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Eliminar"}," 🗑️ ",8,se),e("button",{onClick:b=>v(t),class:"text-blue-500 hover:text-blue-700 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"Editar"}," ✏️ ",8,le)])]))),128)),p.value.data.length===0?(s(),i("tr",re,o[7]||(o[7]=[e("td",{colspan:"3",class:"px-5 py-6 text-center text-gray-500 italic"}," 📭 No se encontraron ciclos ",-1)]))):B("",!0)])])])])]}),_:1}))}};export{be as default};
