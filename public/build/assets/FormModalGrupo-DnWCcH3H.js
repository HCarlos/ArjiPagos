import{d as m,o as u,f as o,x as q,B as v,t as c,k as V,C as N,J as P,z as I,w as h,u as l,A as z,F as w,q as A,g as f,s as G,e as r,M as B}from"./vendor-Mf1CNb9E.js";import{_ as F}from"./Modal-BiIQ4ezI.js";import{_ as M}from"./PrimaryButton-BHT_Es18.js";import{_ as O}from"./SecondaryButton-BFSfs1Pf.js";import{_ as g}from"./InputLabel-BzSsAvK3.js";import{_ as p}from"./TextInput-Dd1u-XdJ.js";import{_ as j}from"./InputError-DqGi1oU4.js";const T={class:"flex items-start gap-4"},D={class:"relative inline-flex items-center cursor-pointer"},L=["checked"],R={key:0,class:"flex-1"},H={class:"text-sm font-semibold text-gray-800"},J={class:"text-xs text-gray-600 mt-1 leading-relaxed"},i={__name:"ToggleSwitch",props:{modelValue:Boolean,label:String,description:String,activeColor:{type:String,default:"bg-indigo-600"},showLabels:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(t){return(y,d)=>(u(),m("div",T,[o("label",D,[o("input",{type:"checkbox",class:"sr-only",checked:t.modelValue,onChange:d[0]||(d[0]=k=>y.$emit("update:modelValue",k.target.checked))},null,40,L),o("div",{class:v(["w-11 h-6 bg-gray-200 rounded-full transition-colors duration-300 peer",[t.modelValue?t.activeColor:"bg-gray-300","focus-within:ring-2 focus-within:ring-indigo-200"]])},[o("div",{class:v(["absolute top-0.5 left-0.5 bg-white w-5 h-5 rounded-full shadow-md transform transition-transform duration-300",t.modelValue?"translate-x-5":"translate-x-0"])},null,2)],2)]),t.showLabels?(u(),m("div",R,[o("h5",H,c(t.label),1),o("p",J,c(t.description),1)])):q("",!0)]))}},K={class:"p-8 bg-white rounded-xl shadow-lg border border-gray-100"},Q={class:"mb-6 flex items-center justify-between border-b border-gray-200 pb-4"},W={class:"text-2xl font-bold text-gray-800"},X={class:"border-b border-gray-200 bg"},Y={class:"flex space-x-8","aria-label":"Tabs"},Z=["onClick"],ee={class:"tab-content"},oe={class:"space-y-8"},se={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},le={class:"space-y-6"},ae={class:"grid grid-cols-2 gap-4"},re={class:"space-y-6"},te={class:"grid grid-cols-1 gap-4"},ie={class:"grid grid-cols-1 gap-4"},de={class:"bg-gradient-to-r from-indigo-50 to-blue-50 p-6 rounded-2xl flex items-center justify-between"},ne={class:"space-y-2"},ue={class:"text-sm text-indigo-600"},ce={class:"space-y-8"},ge={class:"bg-indigo-50 p-6 rounded-2xl space-y-8"},pe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},me={class:"space-y-8"},_e={class:"flex justify-end gap-4 border-t border-gray-200 pt-8"},ke={__name:"FormModalGrupo",props:{show:Boolean,grupo:{type:Object,default:()=>({})},niveles:{type:Object,default:()=>({})},ciclos:{type:Object,default:()=>({})}},emits:["close","success"],setup(t,{emit:y}){const d=t,{niveles:k}=d,{ciclos:be}=d,C=y,x=V(!1),$=V({}),e=N({id:0,grupo_id:0,clave_grupo:"",grupo:"",grupo_oficial:"",grupo_periodo:"",grupo_periodo_ciclo:"",grado:"",grado_pai:"",num:"",is_visible:!0,is_bloqueado:!1,is_activo_en_caja:!0,is_ver_boleta_interna:!1,is_ver_boleta_oficial:!1,is_grupo_pai:!1,status_grupo:!0,grupo_siguiente_id:0});P(()=>d.grupo,n=>{n&&Object.keys(n).length>0?(e.defaults({...n}),e.reset()):(e.reset(),e.clearErrors(),e.defaults({id:0,grupo_id:0,clave_grupo:"",grupo:"",grupo_oficial:"",grupo_periodo:"",grupo_periodo_ciclo:"",grado:"",grado_pai:"",num:"",is_visible:!0,is_bloqueado:!1,is_activo_en_caja:!0,is_ver_boleta_interna:!1,is_ver_boleta_oficial:!1,is_grupo_pai:!1,status_grupo:!0,grupo_siguiente_id:0}))},{immediate:!0,deep:!0});const E=()=>{x.value=!0,$.value={};const n=e.id?"/grupo.update":"/grupo.store";e.transform(s=>({...s})).submit(e.id?"put":"post",n,{preserveScroll:!0,onSuccess:()=>{C("success"),_()},onError:s=>{x.value=!1,$.value=s},onFinish:()=>{x.value=!1}})},_=()=>{e.reset(),e.clearErrors(),U(),C("close")},U=()=>{e.reset(),e.clearErrors(),e.defaults({id:0,grupo_id:0,clave_grupo:"",grupo:"",grupo_oficial:"",grupo_periodo:"",grupo_periodo_ciclo:"",grado:"",grado_pai:"",num:"",is_visible:!0,is_bloqueado:!1,is_activo_en_caja:!0,is_ver_boleta_interna:!1,is_ver_boleta_oficial:!1,is_grupo_pai:!1,status_grupo:!0,grupo_siguiente_id:0})},S=[{name:"basica",label:"Información Básica",icon:"fas fa-info-circle"},{name:"avanzada",label:"Configuraciones",icon:"fas fa-cogs"}],b=V("basica");return(n,s)=>(u(),I(F,{show:t.show,onClose:_,"max-width":"2xl"},{default:h(()=>[o("div",K,[o("div",Q,[o("h2",W," 👥 "+c(l(e).id?"Editar":"Nuevo")+" Grupo ",1),o("button",{onClick:_,class:"text-gray-500 hover:text-gray-700"},s[12]||(s[12]=[o("i",{class:"fas fa-times text-lg"},null,-1)]))]),o("form",{onSubmit:z(E,["prevent"]),class:"space-y-8"},[o("div",X,[o("nav",Y,[(u(),m(w,null,A(S,a=>o("button",{type:"button",key:a.name,onClick:fe=>b.value=a.name,class:v([b.value===a.name?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},[f(c(a.label)+" ",1),o("i",{class:v([a.icon,"ml-2"])},null,2)],10,Z)),64))])]),o("div",ee,[G(o("div",oe,[o("div",se,[o("div",le,[o("div",null,[r(g,{value:"🔑 Clave del Grupo",class:"mb-2 font-medium"}),r(p,{modelValue:l(e).clave_grupo,"onUpdate:modelValue":s[0]||(s[0]=a=>l(e).clave_grupo=a),type:"text",class:"w-full p-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-200",placeholder:"Ej: GRP-2024-01",error:!!l(e).errors.clave_grupo},null,8,["modelValue","error"]),r(j,{message:l(e).errors.clave_grupo,class:"mt-2"},null,8,["message"])]),o("div",ae,[o("div",null,[r(g,{value:"📅 Periodo",class:"mb-2 font-medium"}),r(p,{modelValue:l(e).grupo_periodo,"onUpdate:modelValue":s[1]||(s[1]=a=>l(e).grupo_periodo=a),type:"text",class:"w-full p-3.5 border-2 border-gray-200 rounded-xl",placeholder:"Ej: 2023-2024"},null,8,["modelValue"])]),o("div",null,[r(g,{for:"grado",value:"🎓 Grado",class:"mb-2 font-medium"}),r(p,{modelValue:l(e).grado,"onUpdate:modelValue":s[2]||(s[2]=a=>l(e).grado=a),type:"text",class:"w-full p-3.5 border-2 border-gray-200 rounded-xl",placeholder:"Ej: 2do año"},null,8,["modelValue"]),r(j,{message:l(e).errors.grado,class:"mt-2"},null,8,["message"])])])]),o("div",re,[o("div",te,[o("div",null,[r(g,{value:"🏫 Nombre del Grupo",class:"mb-2 font-medium"}),r(p,{modelValue:l(e).grupo,"onUpdate:modelValue":s[3]||(s[3]=a=>l(e).grupo=a),type:"text",class:"w-full p-3.5 border-2 border-gray-200 rounded-xl mb-2 font-medium",placeholder:"Ej: Grupo de Secundaria",error:!!l(e).errors.grupo},null,8,["modelValue","error"]),r(j,{message:l(e).errors.grupo,class:"mt-2"},null,8,["message"])]),o("div",null,[r(g,{value:"➡️ Grupo Siguiente ID",class:"mb-2 font-medium"}),r(p,{modelValue:l(e).grupo_siguiente_id,"onUpdate:modelValue":s[4]||(s[4]=a=>l(e).grupo_siguiente_id=a),type:"number",class:"w-full p-3.5 border-2 border-gray-200 rounded-xl mb-2 font-medium",placeholder:"Ej: 456"},null,8,["modelValue"])])])])]),o("div",ie,[o("div",de,[o("div",ne,[s[13]||(s[13]=o("h4",{class:"text-lg font-bold text-indigo-800"},"📈 Estado del Grupo",-1)),o("p",ue,c(l(e).status_grupo?"Activo":"Inactivo"),1)]),r(i,{modelValue:l(e).status_grupo,"onUpdate:modelValue":s[5]||(s[5]=a=>l(e).status_grupo=a),"active-color":l(e).status_grupo?"bg-green-500":"bg-red-500","show-labels":!1},null,8,["modelValue","active-color"])])])],512),[[B,b.value==="basica"]]),G(o("div",ce,[o("div",ge,[o("div",pe,[r(i,{modelValue:l(e).is_visible,"onUpdate:modelValue":s[6]||(s[6]=a=>l(e).is_visible=a),label:"👀 Visibilidad Pública",description:"Mostrar en listados y selecciones","active-color":"bg-green-500"},null,8,["modelValue"]),r(i,{modelValue:l(e).is_bloqueado,"onUpdate:modelValue":s[7]||(s[7]=a=>l(e).is_bloqueado=a),label:"🔒 Bloqueo de Grupo",description:"Restringir modificaciones","active-color":"bg-red-500"},null,8,["modelValue"]),r(i,{modelValue:l(e).is_activo_en_caja,"onUpdate:modelValue":s[8]||(s[8]=a=>l(e).is_activo_en_caja=a),label:"💰 Activo en Caja",description:"Habilitar para pagos y cobros","active-color":"bg-gray-500"},null,8,["modelValue"]),r(i,{modelValue:l(e).is_ver_boleta_interna,"onUpdate:modelValue":s[9]||(s[9]=a=>l(e).is_ver_boleta_interna=a),label:"📄 Boleta Interna",description:"Permitir generación interna","active-color":"bg-purple-500"},null,8,["modelValue"]),r(i,{modelValue:l(e).is_ver_boleta_oficial,"onUpdate:modelValue":s[10]||(s[10]=a=>l(e).is_ver_boleta_oficial=a),label:"📑 Boleta Oficial",description:"Generar documentos oficiales","active-color":"bg-teal-500"},null,8,["modelValue"]),r(i,{modelValue:l(e).is_grupo_pai,"onUpdate:modelValue":s[11]||(s[11]=a=>l(e).is_grupo_pai=a),label:"🌐 Grupo PAI",description:"Programa Bachillerato Internacional","active-color":"bg-orange-500"},null,8,["modelValue"])])])],512),[[B,b.value==="avanzada"]])]),o("div",me,[o("div",_e,[r(O,{onClick:_,type:"button",class:"px-8 py-3.5 rounded-xl bg-gray-100 hover:bg-gray-200 transition-colors duration-300"},{default:h(()=>s[14]||(s[14]=[f(" ❌ Cancelar ")])),_:1}),r(M,{type:"submit",disabled:l(e).processing,class:"px-8 py-3.5 rounded-xl bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white font-bold shadow-lg transition-all"},{default:h(()=>[l(e).processing?(u(),m(w,{key:0},[s[15]||(s[15]=o("i",{class:"fas fa-spinner fa-spin mr-3"},null,-1)),s[16]||(s[16]=f(" Procesando... "))],64)):(u(),m(w,{key:1},[f(" 💾 "+c(l(e).id?"Actualizar Grupo":"Crear Nuevo Grupo"),1)],64))]),_:1},8,["disabled"])])])],32)])]),_:1},8,["show"]))}};export{ke as default};
