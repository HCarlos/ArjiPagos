import{k as b,C as k,J as C,z as F,o as m,w as g,f as a,t as _,u as s,A as E,e as l,s as $,d as u,F as h,q as S,y as M,g as w}from"./vendor-DjFIUTS1.js";import{_ as N}from"./Modal-Cn6cI5Zs.js";import{_ as i}from"./InputLabel-CgOoo3kk.js";import{_ as d}from"./TextInput-DW3f-pjc.js";import{_ as t}from"./InputError-w8Dq4Fot.js";import{_ as R}from"./Checkbox-DhXg_FL7.js";import{_ as B}from"./PrimaryButton-B0op7gHA.js";import{_ as D}from"./SecondaryButton-DM6w04Lp.js";const P={class:"p-6 bg-white rounded-lg"},q={class:"text-2xl font-bold mb-6 text-gray-800"},A={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},L={class:"space-y-4 mb-6"},O={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},G={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},I={class:"grid grid-cols-1 md:grid-cols-1 gap-4"},J=["error"],T=["value"],H={class:"mb-6"},K={class:"flex justify-end space-x-4 mt-8"},Q={key:0},W={key:1},ae={__name:"FormModalRegistroFiscal",props:{show:Boolean,registro:{type:Object,default:()=>({})},regimenes_fiscales:{type:Object,default:()=>({})}},emits:["close","success"],setup(p,{emit:z}){const x=p,{regimenes_fiscales:U}=x,v=z,c=b(!1),y=b({}),e=k({id:0,rfc:"",razon_social:"",razon_social_cfdi_40:"",calle:"",num_ext:"",num_int:"",colonia:"",localidad:"",estado:"",pais:"México",codigo_postal:"",regimen_fiscal_id:3,es_extranjero:!1});C(()=>x.registro,n=>{n.id?(e.defaults({...n}),e.reset()):(e.reset(),e.pais="México")},{immediate:!0,deep:!0});const j=()=>{c.value=!0,y.value={};const n=e.id?`/registros_fiscales.update/${e.id}`:"/registros_fiscales.store";e.transform(o=>({...o})).submit(e.id?"put":"post",n,{preserveScroll:!0,onSuccess:()=>{v("success"),f()},onError:o=>{c.value=!1,y.value=o},onFinish:()=>{c.value=!1}})},f=()=>{e.reset(),e.clearErrors(),v("close")};return(n,o)=>(m(),F(N,{show:p.show,onClose:f,"max-width":"2xl"},{default:g(()=>[a("div",P,[a("h2",q,_(s(e).id?"Editar":"Nuevo")+" Registro Fiscal ",1),a("form",{onSubmit:E(j,["prevent"])},[a("div",A,[a("div",null,[l(i,{for:"rfc",value:"RFC *",class:"mb-2 font-medium text-gray-700"}),l(d,{id:"rfc",modelValue:s(e).rfc,"onUpdate:modelValue":o[0]||(o[0]=r=>s(e).rfc=r),type:"text",class:"w-full",error:s(e).errors.rfc,maxlength:"20",required:""},null,8,["modelValue","error"]),l(t,{message:s(e).errors.rfc,class:"mt-2"},null,8,["message"])]),a("div",null,[l(i,{for:"razon_social",value:"Razón Social",class:"mb-2 font-medium text-gray-700"}),l(d,{id:"razon_social",modelValue:s(e).razon_social,"onUpdate:modelValue":o[1]||(o[1]=r=>s(e).razon_social=r),type:"text",class:"w-full",error:s(e).errors.razon_social,maxlength:"250"},null,8,["modelValue","error"]),l(t,{message:s(e).errors.razon_social,class:"mt-2"},null,8,["message"])]),a("div",null,[l(i,{for:"razon_social",value:"Razón Social CDFi 4.0",class:"mb-2 font-medium text-gray-700"}),l(d,{id:"razon_social",modelValue:s(e).razon_social_cfdi_40,"onUpdate:modelValue":o[2]||(o[2]=r=>s(e).razon_social_cfdi_40=r),type:"text",class:"w-full",error:s(e).errors.razon_social_cfdi_40,maxlength:"250"},null,8,["modelValue","error"]),l(t,{message:s(e).errors.razon_social_cfdi_40,class:"mt-2"},null,8,["message"])])]),a("div",L,[o[13]||(o[13]=a("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Domicilio Fiscal",-1)),a("div",O,[a("div",null,[l(i,{for:"calle",value:"Calle",class:"mb-2 font-medium text-gray-700"}),l(d,{id:"calle",modelValue:s(e).calle,"onUpdate:modelValue":o[3]||(o[3]=r=>s(e).calle=r),type:"text",class:"w-full",error:s(e).errors.calle,maxlength:"250"},null,8,["modelValue","error"]),l(t,{message:s(e).errors.calle,class:"mt-2"},null,8,["message"])]),a("div",null,[l(i,{for:"num_ext",value:"Número Exterior",class:"mb-2 font-medium text-gray-700"}),l(d,{id:"num_ext",modelValue:s(e).num_ext,"onUpdate:modelValue":o[4]||(o[4]=r=>s(e).num_ext=r),type:"text",class:"w-full",error:s(e).errors.num_ext,maxlength:"25"},null,8,["modelValue","error"]),l(t,{message:s(e).errors.num_ext,class:"mt-2"},null,8,["message"])]),a("div",null,[l(i,{for:"num_int",value:"Número Interior",class:"mb-2 font-medium text-gray-700"}),l(d,{id:"num_int",modelValue:s(e).num_int,"onUpdate:modelValue":o[5]||(o[5]=r=>s(e).num_int=r),type:"text",class:"w-full",error:s(e).errors.num_int,maxlength:"25"},null,8,["modelValue","error"]),l(t,{message:s(e).errors.num_int,class:"mt-2"},null,8,["message"])]),a("div",null,[l(i,{for:"colonia",value:"Colonia",class:"mb-2 font-medium text-gray-700"}),l(d,{id:"colonia",modelValue:s(e).colonia,"onUpdate:modelValue":o[6]||(o[6]=r=>s(e).colonia=r),type:"text",class:"w-full",error:s(e).errors.colonia,maxlength:"250"},null,8,["modelValue","error"]),l(t,{message:s(e).errors.colonia,class:"mt-2"},null,8,["message"])])]),a("div",G,[a("div",null,[l(i,{for:"localidad",value:"Localidad",class:"mb-2 font-medium text-gray-700"}),l(d,{id:"localidad",modelValue:s(e).localidad,"onUpdate:modelValue":o[7]||(o[7]=r=>s(e).localidad=r),type:"text",class:"w-full",error:s(e).errors.localidad,maxlength:"250"},null,8,["modelValue","error"]),l(t,{message:s(e).errors.localidad,class:"mt-2"},null,8,["message"])]),a("div",null,[l(i,{for:"codigo_postal",value:"Código Postal",class:"mb-2 font-medium text-gray-700"}),l(d,{id:"codigo_postal",modelValue:s(e).codigo_postal,"onUpdate:modelValue":o[8]||(o[8]=r=>s(e).codigo_postal=r),type:"text",class:"w-full",error:s(e).errors.codigo_postal,maxlength:"10"},null,8,["modelValue","error"]),l(t,{message:s(e).errors.codigo_postal,class:"mt-2"},null,8,["message"])]),a("div",null,[l(i,{for:"estado",value:"Estado",class:"mb-2 font-medium text-gray-700"}),l(d,{id:"estado",modelValue:s(e).estado,"onUpdate:modelValue":o[9]||(o[9]=r=>s(e).estado=r),type:"text",class:"w-full",error:s(e).errors.estado,maxlength:"30"},null,8,["modelValue","error"]),l(t,{message:s(e).errors.estado,class:"mt-2"},null,8,["message"])]),a("div",null,[l(i,{for:"pais",value:"País",class:"mb-2 font-medium text-gray-700"}),l(d,{id:"pais",modelValue:s(e).pais,"onUpdate:modelValue":o[10]||(o[10]=r=>s(e).pais=r),type:"text",class:"w-full",error:s(e).errors.pais,maxlength:"30"},null,8,["modelValue","error"]),l(t,{message:s(e).errors.pais,class:"mt-2"},null,8,["message"])])]),a("div",I,[a("div",null,[l(i,{for:"regimen_fiscal_id",value:"Regimen Fiscal",class:"mb-2 font-medium text-gray-700"}),$(a("select",{"onUpdate:modelValue":o[11]||(o[11]=r=>s(e).regimen_fiscal_id=r),error:s(e).errors.regimen_fiscal_id,class:"w-full"},[(m(!0),u(h,null,S(s(U),(r,V)=>(m(),u("option",{key:V,value:V},_(r),9,T))),128))],8,J),[[M,s(e).regimen_fiscal_id]]),l(t,{message:s(e).errors.regimen_fiscal_id,class:"mt-2"},null,8,["message"])])])]),a("div",H,[l(R,{checked:s(e).es_extranjero,"onUpdate:checked":o[12]||(o[12]=r=>s(e).es_extranjero=r),label:"Es extranjero",error:s(e).errors.es_extranjero,id:"es_extranjero"},null,8,["checked","error"]),o[14]||(o[14]=a("label",{for:"es_extranjero",class:"ml-2 text-sm text-gray-600"},"Es extranjero",-1)),l(t,{message:s(e).errors.es_extranjero,class:"mt-2"},null,8,["message"])]),a("div",K,[l(D,{onClick:f,type:"button"},{default:g(()=>o[15]||(o[15]=[w(" Cancelar ")])),_:1}),l(B,{type:"submit",disabled:s(e).processing},{default:g(()=>[s(e).processing?(m(),u("span",Q,o[16]||(o[16]=[a("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),w(" Procesando... ")]))):(m(),u("span",W,_(s(e).id?"Actualizar":"Guardar"),1))]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]))}};export{ae as default};
