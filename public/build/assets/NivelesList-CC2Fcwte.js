import{j as b,n as h,k as d,p as D,G as y,z as v,o as s,w as _,f as e,t as p,s as E,e as S,H as T,g as V,d as u,F as w,q as C,I as j,B as z,x as F,W as k}from"./vendor-Mf1CNb9E.js";import{_ as H}from"./AuthenticatedLayout-Akbb0_87.js";import{_ as L}from"./PrimaryButton-BHT_Es18.js";/* empty css                */import I from"./FormModalNivel-CMixpgUi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-BiIQ4ezI.js";import"./SecondaryButton-BFSfs1Pf.js";import"./InputLabel-BzSsAvK3.js";import"./TextInput-Dd1u-XdJ.js";import"./InputError-DqGi1oU4.js";const q={class:"p-6 bg-white rounded-2xl shadow-sm border border-gray-100"},A={class:"mb-6 p-5 bg-indigo-50 rounded-xl border-l-4 border-indigo-600 shadow-xs flex items-center justify-between"},W={class:"flex items-center gap-4"},G={class:"text-2xl font-bold text-gray-900"},P={class:"flex items-center gap-3"},R={class:"mb-6 flex flex-col md:flex-row gap-4 items-center justify-between"},U={action:"/niveles",class:"w-full md:w-auto flex gap-2"},J={class:"flex gap-1"},K={class:"overflow-x-auto rounded-xl border border-gray-200 shadow-xs"},O={class:"w-full min-w-[600px]"},Q={class:"divide-y divide-gray-100"},X={class:"px-5 py-4 text-sm font-semibold text-indigo-900"},Y={class:"px-5 py-4 font-medium text-gray-900"},Z={class:"px-5 py-4 flex items-center gap-2"},ee=["onClick"],te=["onClick"],oe={key:0},xe={__name:"NivelesList",setup(se){const c=b(()=>h().props.niveles),N=b(()=>h().props.totalNiveles),n=d(""),a=d(!1),r=d({});d("nuevo"),D(async()=>{await y()});const x=()=>{k.reload({only:["totalNiveles","niveles"],preserveScroll:!0,onFinish:async()=>{await y(),a.value=!1,r.value=null}})},m=l=>{r.value=l!==null?{...l}:{},a.value=!0},M=()=>{r.value=null,a.value=!1},B=function(){window.location.reload()},$=l=>{if(confirm("¿Estás seguro de que deseas eliminar el Item "+l+" ?")){const t=route("nivel.delete",l);k["delete"](t,{preserveScroll:!0,onError:i=>{errors.value=i},onFinish:()=>{x()}})}};return(l,t)=>(s(),v(H,null,{default:_(()=>{var g,i;return[e("div",q,[e("div",A,[e("div",W,[t[3]||(t[3]=e("div",{class:"p-2.5 bg-indigo-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),e("div",null,[e("h1",G," 📚 ("+p(N.value)+") Niveles ",1),t[2]||(t[2]=e("p",{class:"mt-1 text-sm text-gray-600 font-medium"}," Catálogo general ",-1))])]),e("div",P,[e("button",{onClick:t[0]||(t[0]=o=>m(null)),class:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Agregar nueva nivel"},t[4]||(t[4]=[e("i",{class:"fas fa-plus-circle fa-lg"},null,-1)])),e("button",{onClick:B,class:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Recargar datos"},t[5]||(t[5]=[e("i",{class:"fas fa-sync-alt fa-lg"},null,-1)])),(s(),v(I,{key:((i=(g=r.value)==null?void 0:g.value)==null?void 0:i.id)??"nuevo",show:a.value,nivel:r.value,onClose:M,onSuccess:x},null,8,["show","nivel"]))])]),e("div",R,[e("form",U,[E(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>n.value=o),name:"search",id:"search",placeholder:"🔍 Buscar nivel...",class:"w-full md:w-64 p-2.5 border-2 border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all"},null,512),[[T,n.value]]),S(L,{type:"submit",class:"h-[42px] px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl shadow-md",show:n.value.length===0,disabled:n.value.length===0},{default:_(()=>t[6]||(t[6]=[V(" Buscar ")])),_:1},8,["show","disabled"])]),e("nav",J,[(s(!0),u(w,null,C(c.value.links,(o,f)=>(s(),v(j(o.url?"a":"span"),{href:o.url,class:z(["px-3 py-1.5 rounded-lg transition-colors",{"bg-indigo-600 text-white":o.active,"text-gray-700 hover:bg-gray-100":!o.active&&o.url,"text-gray-400":!o.url}]),innerHTML:o.label},null,8,["href","class","innerHTML"]))),256))])]),e("div",K,[e("table",O,[t[8]||(t[8]=e("thead",{class:"bg-indigo-50"},[e("tr",{class:"text-left text-sm font-semibold text-indigo-900"},[e("th",{class:"px-5 py-4 border-b border-indigo-100"},"ID"),e("th",{class:"px-5 py-4 border-b border-indigo-100"},"Nivel"),e("th",{class:"px-5 py-4 border-b border-indigo-100 w-48"},"Acciones")])],-1)),e("tbody",Q,[(s(!0),u(w,null,C(c.value.data,o=>(s(),u("tr",{key:o.id,class:"hover:bg-indigo-50/30 transition-colors group"},[e("td",X,p(o.id),1),e("td",Y,p(o.nivel),1),e("td",Z,[e("button",{onClick:f=>$(o.id),class:"text-red-500 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Eliminar"}," 🗑️ ",8,ee),e("button",{onClick:f=>m(o),class:"text-blue-500 hover:text-blue-700 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"Editar"}," ✏️ ",8,te)])]))),128)),c.value.data.length===0?(s(),u("tr",oe,t[7]||(t[7]=[e("td",{colspan:"3",class:"px-5 py-6 text-center text-gray-500 italic"}," 📭 No se encontraron niveles ",-1)]))):F("",!0)])])])])]}),_:1}))}};export{xe as default};
