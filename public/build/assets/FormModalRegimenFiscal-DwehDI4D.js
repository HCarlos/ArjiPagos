import{k as g,C as k,J as $,z as C,o as m,w as c,f as r,t as p,u as a,A as F,e as i,g as v,d as x}from"./vendor-Mf1CNb9E.js";import{_ as B}from"./Modal-BiIQ4ezI.js";import{_ as b}from"./InputLabel-BzSsAvK3.js";import{_ as h}from"./TextInput-Dd1u-XdJ.js";import{_ as y}from"./InputError-DqGi1oU4.js";import{_ as E}from"./PrimaryButton-BHT_Es18.js";import{_ as N}from"./SecondaryButton-BFSfs1Pf.js";const R={class:"p-6 bg-white rounded-lg"},S={class:"text-2xl font-bold mb-6 text-gray-800"},M={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},j={class:"flex justify-end space-x-4 mt-8"},z={key:0},A={key:1},H={__name:"FormModalRegimenFiscal",props:{show:Boolean,regimen_fiscal:{type:Object,default:()=>({})}},emits:["close","success"],setup(d,{emit:w}){const f=d,{regimen_fiscal:U}=f,u=w,t=g(!1),_=g({}),e=k({id:0,clave_regimen_fiscal:"",regimen_fiscal:""});$(()=>f.regimen_fiscal,l=>{l.id&&e.defaults({...l}),e.reset()},{immediate:!0,deep:!0});const V=()=>{t.value=!0,_.value={};const l=e.id?`/regimenes_fiscales.update/${e.id}`:"/regimenes_fiscales.store";e.transform(s=>({...s})).submit(e.id?"put":"post",l,{preserveScroll:!0,onSuccess:()=>{u("success"),o()},onError:s=>{t.value=!1,_.value=s},onFinish:()=>{t.value=!1}})},o=()=>{e.reset(),e.clearErrors(),u("close")};return(l,s)=>(m(),C(B,{show:d.show,onClose:o,"max-width":"2xl"},{default:c(()=>[r("div",R,[r("h2",S,p(a(e).id?"Editar":"Nuevo")+" Registro Fiscal ",1),r("form",{onSubmit:F(V,["prevent"])},[r("div",M,[r("div",null,[i(b,{for:"clave_regimen_fiscal",value:"Clave Regimen Fiscal *",class:"mb-2 font-medium text-gray-700"}),i(h,{id:"clave_regimen_fiscal",modelValue:a(e).clave_regimen_fiscal,"onUpdate:modelValue":s[0]||(s[0]=n=>a(e).clave_regimen_fiscal=n),type:"text",class:"w-full",error:a(e).errors.clave_regimen_fiscal,maxlength:"20",required:""},null,8,["modelValue","error"]),i(y,{message:a(e).errors.clave_regimen_fiscal,class:"mt-2"},null,8,["message"])]),r("div",null,[i(b,{for:"regimen_fiscal",value:"Regimen Fiscal",class:"mb-2 font-medium text-gray-700"}),i(h,{id:"regimen_fiscal",modelValue:a(e).regimen_fiscal,"onUpdate:modelValue":s[1]||(s[1]=n=>a(e).regimen_fiscal=n),type:"text",class:"w-full",error:a(e).errors.regimen_fiscal,maxlength:"250"},null,8,["modelValue","error"]),i(y,{message:a(e).errors.regimen_fiscal,class:"mt-2"},null,8,["message"])])]),r("div",j,[i(N,{onClick:o,type:"button"},{default:c(()=>s[2]||(s[2]=[v(" Cancelar ")])),_:1}),i(E,{type:"submit",disabled:a(e).processing},{default:c(()=>[a(e).processing?(m(),x("span",z,s[3]||(s[3]=[r("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),v(" Procesando... ")]))):(m(),x("span",A,p(a(e).id?"Actualizar":"Guardar"),1))]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]))}};export{H as default};
