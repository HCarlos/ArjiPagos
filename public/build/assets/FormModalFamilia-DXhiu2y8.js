import{j as v,C,z as U,e as k,o as u,w as _,b as l,t as b,u as s,f as F,a as o,d as x,c as V}from"./app-CZGOCcSJ.js";import{_ as $}from"./Modal-GJSMBy2M.js";import{_ as i}from"./InputLabel-7aYgg88u.js";import{_ as t}from"./TextInput-4a5YXbIf.js";import{_ as m}from"./InputError-CDbrJZig.js";import{_ as B}from"./PrimaryButton-DpTGI6TH.js";import{_ as j}from"./SecondaryButton-DM7Bzky-.js";import"./jquery-S2mROG-R.js";const N={class:"p-6 bg-white rounded-lg"},O={class:"text-2xl font-bold mb-6 text-gray-800"},S={class:"grid grid-cols-1 md:grid-cols-1 gap-6 mb-6"},M={class:"grid grid-cols-2 md:grid-cols-2 gap-6 mb-6"},P={class:"grid grid-cols-2 md:grid-cols-2 gap-6 mb-6"},z={class:"grid grid-cols-3 md:grid-cols-3 gap-6 mb-6"},q={class:"flex justify-end space-x-4 mt-8"},A={key:0},D={key:1},R={__name:"FormModalFamilia",props:{show:Boolean,familia:{type:Object,default:()=>({})}},emits:["close","success"],setup(f,{emit:y}){const w=f,g=y,c=v(!1),p=v({}),e=C({id:0,familia:"",observaciones_control_escolar:"",observaciones_pagos:"",convenios:"",email_pagos:"",email_facturas:"",email_control_escolar:"",email_convenios:""});U(()=>w.familia,n=>{n&&Object.keys(n).length>0?(e.defaults({...n}),e.reset()):(e.reset(),e.clearErrors(),e.defaults({id:0,familia:"",observaciones_control_escolar:"",observaciones_pagos:"",convenios:"",email_pagos:"",email_facturas:"",email_control_escolar:"",email_convenios:""}))},{immediate:!0,deep:!0});const E=()=>{c.value=!0,p.value={};const n=e.id?"/familia.update":"/familia.store";e.transform(a=>({...a})).submit(e.id?"put":"post",n,{preserveScroll:!0,onSuccess:()=>{g("success"),d()},onError:a=>{c.value=!1,p.value=a},onFinish:()=>{c.value=!1}})},d=()=>{e.reset(),e.clearErrors(),h(),g("close")},h=()=>{e.reset(),e.clearErrors(),e.defaults({id:0,familia:"",observaciones_control_escolar:"",observaciones_pagos:"",convenios:"",email_pagos:"",email_facturas:"",email_control_escolar:"",email_convenios:""})};return(n,a)=>(u(),k($,{show:f.show,onClose:d,"max-width":"2xl"},{default:_(()=>[l("div",N,[l("h2",O,b(s(e).id?"Editar":"Nueva")+" Familia ",1),l("form",{onSubmit:F(E,["prevent"])},[l("div",S,[l("div",null,[o(i,{for:"familia",value:"Familia *",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"familia",modelValue:s(e).familia,"onUpdate:modelValue":a[0]||(a[0]=r=>s(e).familia=r),type:"text",class:"w-full",error:s(e).errors.familia,maxlength:"250",required:""},null,8,["modelValue","error"]),o(m,{message:s(e).errors.familia,class:"mt-2"},null,8,["message"])])]),l("div",M,[l("div",null,[o(i,{for:"observaciones_control_escolar",value:"Obs. CE",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"observaciones_control_escolar",modelValue:s(e).observaciones_control_escolar,"onUpdate:modelValue":a[1]||(a[1]=r=>s(e).observaciones_control_escolar=r),type:"text",class:"w-full",error:s(e).errors.observaciones_control_escolar,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.observaciones_control_escolar,class:"mt-2"},null,8,["message"])]),l("div",null,[o(i,{for:"observaciones_pagos",value:"Obs. Pagos",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"observaciones_pagos",modelValue:s(e).observaciones_pagos,"onUpdate:modelValue":a[2]||(a[2]=r=>s(e).observaciones_pagos=r),type:"text",class:"w-full",error:s(e).errors.observaciones_pagos,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.observaciones_pagos,class:"mt-2"},null,8,["message"])])]),l("div",P,[l("div",null,[o(i,{for:"convenios",value:"Convenios",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"convenios",modelValue:s(e).convenios,"onUpdate:modelValue":a[3]||(a[3]=r=>s(e).convenios=r),type:"text",class:"w-full",error:s(e).errors.convenios,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.convenios,class:"mt-2"},null,8,["message"])]),l("div",null,[o(i,{for:"email_pagos",value:"Emails Pagos",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"email_pagos",modelValue:s(e).email_pagos,"onUpdate:modelValue":a[4]||(a[4]=r=>s(e).email_pagos=r),type:"text",class:"w-full",error:s(e).errors.email_pagos,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.email_pagos,class:"mt-2"},null,8,["message"])])]),l("div",z,[l("div",null,[o(i,{for:"email_facturas",value:"Emails Facturas",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"email_facturas",modelValue:s(e).email_facturas,"onUpdate:modelValue":a[5]||(a[5]=r=>s(e).email_facturas=r),type:"text",class:"w-full",error:s(e).errors.email_facturas,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.email_facturas,class:"mt-2"},null,8,["message"])]),l("div",null,[o(i,{for:"email_control_escolar",value:"Emails CE",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"email_control_escolar",modelValue:s(e).email_control_escolar,"onUpdate:modelValue":a[6]||(a[6]=r=>s(e).email_control_escolar=r),type:"text",class:"w-full",error:s(e).errors.email_control_escolar,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.email_control_escolar,class:"mt-2"},null,8,["message"])]),l("div",null,[o(i,{for:"email_convenios",value:"Emails Convenios",class:"mb-2 font-medium text-gray-700"}),o(t,{id:"email_convenios",modelValue:s(e).email_convenios,"onUpdate:modelValue":a[7]||(a[7]=r=>s(e).email_convenios=r),type:"text",class:"w-full",error:s(e).errors.email_convenios,maxlength:"250"},null,8,["modelValue","error"]),o(m,{message:s(e).errors.email_convenios,class:"mt-2"},null,8,["message"])])]),l("div",q,[o(j,{onClick:d,type:"button"},{default:_(()=>a[8]||(a[8]=[x(" Cancelar ")])),_:1}),o(B,{type:"submit",disabled:s(e).processing},{default:_(()=>[s(e).processing?(u(),V("span",A,a[9]||(a[9]=[l("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),x(" Procesando... ")]))):(u(),V("span",D,b(s(e).id?"Actualizar":"Guardar"),1))]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]))}};export{R as default};
