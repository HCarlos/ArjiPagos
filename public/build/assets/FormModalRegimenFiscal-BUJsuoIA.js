import{j as g,C as $,p as k,e as C,o as c,w as m,b as r,t as p,u as a,f as F,a as l,d as v,c as x}from"./app-C_9KI9es.js";import{_ as B}from"./Modal-CwMvZuF2.js";import{_ as b,a as h,b as y}from"./TextInput-Bj92w6JM.js";import{_ as E}from"./PrimaryButton-Cl7XCYnZ.js";import{_ as N}from"./SecondaryButton-V28EdxOf.js";import"./jquery-S2mROG-R.js";const R={class:"p-6 bg-white rounded-lg"},S={class:"text-2xl font-bold mb-6 text-gray-800"},j={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},M={class:"flex justify-end space-x-4 mt-8"},U={key:0},q={key:1},H={__name:"FormModalRegimenFiscal",props:{show:Boolean,regimen_fiscal:{type:Object,default:()=>({})}},emits:["close","success"],setup(d,{emit:w}){const f=d,{regimen_fiscal:z}=f,u=w,t=g(!1),_=g({}),e=$({id:0,clave_regimen_fiscal:"",regimen_fiscal:""});k(()=>f.regimen_fiscal,i=>{i.id&&e.defaults({...i}),e.reset()},{immediate:!0,deep:!0});const V=()=>{t.value=!0,_.value={};const i=e.id?`/regimenes_fiscales.update/${e.id}`:"/regimenes_fiscales.store";e.transform(s=>({...s})).submit(e.id?"put":"post",i,{preserveScroll:!0,onSuccess:()=>{u("success"),o()},onError:s=>{t.value=!1,_.value=s},onFinish:()=>{t.value=!1}})},o=()=>{e.reset(),e.clearErrors(),u("close")};return(i,s)=>(c(),C(B,{show:d.show,onClose:o,"max-width":"2xl"},{default:m(()=>[r("div",R,[r("h2",S,p(a(e).id?"Editar":"Nuevo")+" Registro Fiscal ",1),r("form",{onSubmit:F(V,["prevent"])},[r("div",j,[r("div",null,[l(b,{for:"clave_regimen_fiscal",value:"Clave Regimen Fiscal *",class:"mb-2 font-medium text-gray-700"}),l(h,{id:"clave_regimen_fiscal",modelValue:a(e).clave_regimen_fiscal,"onUpdate:modelValue":s[0]||(s[0]=n=>a(e).clave_regimen_fiscal=n),type:"text",class:"w-full",error:a(e).errors.clave_regimen_fiscal,maxlength:"20",required:""},null,8,["modelValue","error"]),l(y,{message:a(e).errors.clave_regimen_fiscal,class:"mt-2"},null,8,["message"])]),r("div",null,[l(b,{for:"regimen_fiscal",value:"Regimen Fiscal",class:"mb-2 font-medium text-gray-700"}),l(h,{id:"regimen_fiscal",modelValue:a(e).regimen_fiscal,"onUpdate:modelValue":s[1]||(s[1]=n=>a(e).regimen_fiscal=n),type:"text",class:"w-full",error:a(e).errors.regimen_fiscal,maxlength:"250"},null,8,["modelValue","error"]),l(y,{message:a(e).errors.regimen_fiscal,class:"mt-2"},null,8,["message"])])]),r("div",M,[l(N,{onClick:o,type:"button"},{default:m(()=>s[2]||(s[2]=[v(" Cancelar ")])),_:1}),l(E,{type:"submit",disabled:a(e).processing},{default:m(()=>[a(e).processing?(c(),x("span",U,s[3]||(s[3]=[r("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),v(" Procesando... ")]))):(c(),x("span",q,p(a(e).id?"Actualizar":"Guardar"),1))]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]))}};export{H as default};
