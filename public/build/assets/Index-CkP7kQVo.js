import{n as B,k as v,j as A,N as q,J as T,W as V,G as E,d as u,o as d,f as s,t as n,F as N,q as I,B as i,A as W,x as p,s as a,M as S,H as l,y as Z,e as f,p as R,K as H,z as O,w as U,g as P,$ as z}from"./vendor-DjFIUTS1.js";import{_ as J}from"./AuthenticatedLayout-wo3sCvM2.js";import{_ as K}from"./Pagination-BNxzaG0j.js";import{i as Y,d as Q}from"./arjiapp-g-pcfmCD.js";import{_ as X}from"./PrimaryButton-B0op7gHA.js";import{_ as h}from"./InputError-w8Dq4Fot.js";import{_ as ee}from"./Checkbox-DhXg_FL7.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as D}from"./SecondaryButton-DM6w04Lp.js";/* empty css                */const re={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4"},oe={class:"bg-white rounded-lg shadow-xl w-full max-w-3xl"},te={class:"p-6"},ae={class:"text-xl font-semibold mb-4"},le={class:"border-b border-gray-200 mb-6"},de={class:"flex space-x-8"},ne=["onClick"],ue={key:0,class:"mb-4 text-red-500 text-sm"},pe={class:"space-y-4"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},me={class:"space-y-4"},be={key:0},ge={key:0,class:"text-red-500 text-sm mt-1"},ye={key:0,class:"text-red-500 text-sm mt-1"},xe={class:"space-y-4"},fe={class:"grid grid-cols-3 gap-4"},_e={key:0,class:"text-red-500 text-sm mt-1"},ve={key:0,class:"text-red-500 text-sm mt-1"},ce={key:0,class:"text-red-500 text-sm mt-1"},$e={class:"grid grid-cols-2 gap-4"},ke={key:0,class:"text-red-500 text-sm mt-1"},we=["value"],Ue={key:0,class:"text-red-500 text-sm mt-1"},Ve={class:"grid grid-cols-2 gap-4"},je={key:0,class:"text-red-500 text-sm mt-1"},Ce={class:"space-y-4"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Me={key:0,class:"text-red-500 text-sm mt-1"},De={key:0,class:"text-red-500 text-sm mt-1"},Be={key:0,class:"text-red-500 text-sm mt-1"},Ae={key:0,class:"text-red-500 text-sm mt-1"},Ee={key:0,class:"text-red-500 text-sm mt-1"},Ne={key:0,class:"text-red-500 text-sm mt-1"},Fe={key:0,class:"text-red-500 text-sm mt-1"},Te={class:"space-y-4"},Oe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Pe={key:0,class:"text-red-500 text-sm mt-1"},ze={key:0,class:"text-red-500 text-sm mt-1"},Ge={key:0,class:"text-red-500 text-sm mt-1"},Ie={key:0,class:"text-red-500 text-sm mt-1"},Le={key:0,class:"text-red-500 text-sm mt-1"},qe={class:"space-y-4"},We={class:"grid grid-cols-4 md:grid-cols-4 gap-4"},Ze={key:0,class:"text-red-500 text-sm mt-1"},Re={key:0,class:"text-red-500 text-sm mt-1"},He={key:0,class:"text-red-500 text-sm mt-1"},Je={key:0,class:"text-red-500 text-sm mt-1"},Ke={key:0,class:"text-red-500 text-sm mt-1"},Ye={key:0,class:"text-red-500 text-sm mt-1"},Qe={key:0,class:"text-red-500 text-sm mt-1"},Xe={key:0,class:"text-red-500 text-sm mt-1"},he={key:0,class:"text-red-500 text-sm mt-1"},es={key:0,class:"text-red-500 text-sm mt-1"},ss={class:"mb-6"},rs={key:0,class:"text-red-500 text-sm mt-1"},os={key:0,class:"text-red-500 text-sm mt-1"},ts={key:0,class:"text-red-500 text-sm mt-1"},as={class:"mt-6 flex justify-between"},ls={class:"flex space-x-3"},ds=["disabled"],ns={__name:"UserModal",props:{user:{type:Object,default:()=>({})},mode:{type:String,required:!0}},emits:["close"],setup(c,{emit:j}){const M=B(),b=v(1),$=[{id:1,label:"Datos Generales"},{id:2,label:"Domicilio"},{id:3,label:"Otros Datos"},{id:4,label:"Solo Alumnos"}],y=c,k=j,C=A(()=>{const r={id:0,username:"",email:"",password:"",nombre:"",ap_paterno:"",ap_materno:"",curp:"",fecha_nacimiento:"",genero:"1",emails:"",celulares:"",telefonos:"",user_adress:{calle:" ",num_ext:" ",num_int:" ",colonia:" ",municipio:" ",estado:" ",pais:"México",cp:" "},user_data_extend:{lugar_nacimiento:" ",ocupacion:" ",profesion:" ",lugar_trabajo:" ",nacionalidad:" "},user_alumno:{matricula_interna:" ",matricula_oficial:" ",email_alumno:" ",enfermedades:" ",reacciones_alergicas:" ",tipo_sangre:" ",beca_sep:"",beca_arji:" ",beca_sp:" ",beca_bach:" ",es_baja:!1,motivo_baja:" ",fecha_ingreso:" ",observaciones:" "}};return y.mode==="edit"?{...r,...y.user,user_adress:{...r.user_adress,...y.user.user_adress||{}},user_data_extend:{...r.user_data_extend,...y.user.user_data_extend||{}},user_alumno:{...r.user_alumno,...y.user.user_alumno||{}}}:r}),t=q({...C.value}),_=v(!1),x=v({});T(()=>y.user,r=>{y.mode==="edit"&&(x.value={},V.reload({only:["errors"]}))}),T(()=>M.props.errors,r=>{x.value=r,E(()=>{b.value=Object.keys(r).some(e=>e.startsWith("domicilio"))?2:1})});const m=r=>{const e=new Date(r),o=String(e.getDate()).padStart(2,"0"),F=String(e.getMonth()+1).padStart(2,"0"),L=e.getFullYear();return`${o}/${F}/${L}`},g=()=>{_.value=!0,x.value={};const r=y.mode==="create"?route("users.store"):route("users.update",y.user.id),e=y.mode==="create"?"post":"put";V[e](r,t,{preserveScroll:!0,onSuccess:()=>{w()},onError:o=>{_.value=!1,x.value=o},onFinish:()=>{_.value=!1}})},w=()=>{x.value={},V.reload({only:["errors"]}),k("close")};return(r,e)=>(d(),u("div",re,[s("div",oe,[s("div",te,[s("h2",ae,n(c.mode==="create"?"Nuevo Usuario":"Editar Usuario: "+c.user.id+" - "+c.user.username),1),s("div",le,[s("nav",de,[(d(),u(N,null,I($,o=>s("button",{key:o.id,onClick:F=>b.value=o.id,class:i(["px-4 py-2 text-sm font-medium",{"text-blue-600 border-b-2 border-blue-600":b.value===o.id,"text-gray-500 hover:text-gray-700":b.value!==o.id}])},n(o.label),11,ne)),64))])]),s("form",{onSubmit:W(g,["prevent"])},[r.$page.props.errors.error?(d(),u("div",ue,n(r.$page.props.errors.error),1)):p("",!0),a(s("div",pe,[s("div",ie,[s("div",me,[c.mode==="create"?(d(),u("div",be,[e[49]||(e[49]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Usuario",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>t.username=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors.username}])},null,2),[[l,t.username]]),r.$page.props.errors.username?(d(),u("p",ge,n(r.$page.props.errors.username),1)):p("",!0)])):p("",!0),s("div",null,[e[50]||(e[50]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email principal",-1)),a(s("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=o=>t.email=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors.email}])},null,2),[[l,t.email]]),r.$page.props.errors.email?(d(),u("p",ye,n(r.$page.props.errors.email),1)):p("",!0)])]),s("div",xe,[s("div",fe,[s("div",null,[e[51]||(e[51]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ap. Paterno",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>t.ap_paterno=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors.ap_paterno}])},null,2),[[l,t.ap_paterno]]),r.$page.props.errors.ap_paterno?(d(),u("p",_e,n(r.$page.props.errors.ap_paterno),1)):p("",!0)]),s("div",null,[e[52]||(e[52]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ap. Materno",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>t.ap_materno=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors.ap_materno}])},null,2),[[l,t.ap_materno]]),r.$page.props.errors.ap_materno?(d(),u("p",ve,n(r.$page.props.errors.ap_materno),1)):p("",!0)]),s("div",null,[e[53]||(e[53]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre(s)",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=o=>t.nombre=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors.nombre}])},null,2),[[l,t.nombre]]),r.$page.props.errors.nombre?(d(),u("p",ce,n(r.$page.props.errors.nombre),1)):p("",!0)])]),s("div",$e,[s("div",null,[e[54]||(e[54]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"CURP",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>t.curp=o),class:i(["w-full px-3 py-2 border rounded-md uppercase",{"border-red-500":r.$page.props.errors.curp}]),maxlength:"18",onInput:e[6]||(e[6]=o=>t.curp=o.target.value.toUpperCase())},null,34),[[l,t.curp]]),r.$page.props.errors.curp?(d(),u("p",ke,n(r.$page.props.errors.curp),1)):p("",!0)]),s("div",null,[e[55]||(e[55]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Fecha Nacimiento",-1)),a(s("input",{type:"date","onUpdate:modelValue":e[7]||(e[7]=o=>t.fecha_nacimiento=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors.fecha_nacimiento}]),value:m(t.fecha_nacimiento)},null,10,we),[[l,t.fecha_nacimiento]]),r.$page.props.errors.fecha_nacimiento?(d(),u("p",Ue,n(r.$page.props.errors.fecha_nacimiento),1)):p("",!0)])]),s("div",Ve,[s("div",null,[e[57]||(e[57]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Género",-1)),a(s("select",{"onUpdate:modelValue":e[8]||(e[8]=o=>t.genero=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors.genero}])},e[56]||(e[56]=[s("option",{value:"1"},"Masculino",-1),s("option",{value:"0"},"Femenino",-1),s("option",{value:"2"},"Otro",-1)]),2),[[Z,t.genero]]),r.$page.props.errors.genero?(d(),u("p",je,n(r.$page.props.errors.genero),1)):p("",!0)])])])])],512),[[S,b.value===1]]),a(s("div",Ce,[s("div",Se,[s("div",null,[e[58]||(e[58]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Calle",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=o=>t.user_adress.calle=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_adress.calle"]}])},null,2),[[l,t.user_adress.calle]]),r.$page.props.errors["user_adress.calle"]?(d(),u("p",Me,n(r.$page.props.errors["user_adress.calle"]),1)):p("",!0)]),s("div",null,[e[59]||(e[59]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Num. Ext.",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=o=>t.user_adress.num_ext=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_adress.num_ext"]}])},null,2),[[l,t.user_adress.num_ext]]),r.$page.props.errors["user_adress.num_ext"]?(d(),u("p",De,n(r.$page.props.errors["user_adress.num_ext"]),1)):p("",!0)]),s("div",null,[e[60]||(e[60]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Num. Int.",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=o=>t.user_adress.num_int=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_adress.num_int"]}])},null,2),[[l,t.user_adress.num_int]]),r.$page.props.errors["user_adress.num_int"]?(d(),u("p",Be,n(r.$page.props.errors["user_adress.num_int"]),1)):p("",!0)]),s("div",null,[e[61]||(e[61]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Colonia",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[12]||(e[12]=o=>t.user_adress.colonia=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_adress.colonia"]}])},null,2),[[l,t.user_adress.colonia]]),r.$page.props.errors["user_adress.colonia"]?(d(),u("p",Ae,n(r.$page.props.errors["user_adress.colonia"]),1)):p("",!0)]),s("div",null,[e[62]||(e[62]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Código Postal",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=o=>t.user_adress.cp=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_adress.cp"]}])},null,2),[[l,t.user_adress.cp]]),r.$page.props.errors["user_adress.cp"]?(d(),u("p",Ee,n(r.$page.props.errors["user_adress.cp"]),1)):p("",!0)]),s("div",null,[e[63]||(e[63]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Municipio",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=o=>t.user_adress.municipio=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_adress.municipio"]}])},null,2),[[l,t.user_adress.municipio]]),r.$page.props.errors["user_adress.municipio"]?(d(),u("p",Ne,n(r.$page.props.errors["user_adress.municipio"]),1)):p("",!0)]),s("div",null,[e[64]||(e[64]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Estado",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=o=>t.user_adress.estado=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_adress.estado"]}])},null,2),[[l,t.user_adress.estado]]),r.$page.props.errors["user_adress.estado"]?(d(),u("p",Fe,n(r.$page.props.errors["user_adress.estado"]),1)):p("",!0)])])],512),[[S,b.value===2]]),a(s("div",Te,[s("div",Oe,[s("div",null,[e[65]||(e[65]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lugar de Nacimiento",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=o=>t.user_data_extend.lugar_nacimiento=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_data_extend.lugar_nacimiento"]}])},null,2),[[l,t.user_data_extend.lugar_nacimiento]]),r.$page.props.errors["user_data_extend.lugar_nacimiento"]?(d(),u("p",Pe,n(r.$page.props.errors["user_data_extend.lugar_nacimiento"]),1)):p("",!0)]),s("div",null,[e[66]||(e[66]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ocupación",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[17]||(e[17]=o=>t.user_data_extend.ocupacion=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_data_extend.ocupacion"]}])},null,2),[[l,t.user_data_extend.ocupacion]]),r.$page.props.errors["user_data_extend.ocupacion"]?(d(),u("p",ze,n(r.$page.props.errors["user_data_extend.ocupacion"]),1)):p("",!0)]),s("div",null,[e[67]||(e[67]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Profesión",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[18]||(e[18]=o=>t.user_data_extend.profesion=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_data_extend.profesion"]}])},null,2),[[l,t.user_data_extend.profesion]]),r.$page.props.errors["user_data_extend.profesion"]?(d(),u("p",Ge,n(r.$page.props.errors["user_data_extend.profesion"]),1)):p("",!0)]),s("div",null,[e[68]||(e[68]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lugar de Trabajo",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[19]||(e[19]=o=>t.user_data_extend.lugar_trabajo=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_data_extend.lugar_trabajo"]}])},null,2),[[l,t.user_data_extend.lugar_trabajo]]),r.$page.props.errors["user_data_extend.lugar_trabajo"]?(d(),u("p",Ie,n(r.$page.props.errors["user_data_extend.lugar_trabajo"]),1)):p("",!0),a(s("input",{type:"hidden","onUpdate:modelValue":e[20]||(e[20]=o=>t.id=o),class:"w-full px-3 py-2 border rounded-md"},null,512),[[l,t.id]])]),s("div",null,[e[69]||(e[69]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nacinalidad",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[21]||(e[21]=o=>t.user_data_extend.nacionalidad=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_data_extend.nacionalidad"]}])},null,2),[[l,t.user_data_extend.nacionalidad]]),r.$page.props.errors["user_data_extend.nacionalidad"]?(d(),u("p",Le,n(r.$page.props.errors["user_data_extend.nacionalidad"]),1)):p("",!0),a(s("input",{type:"hidden","onUpdate:modelValue":e[22]||(e[22]=o=>t.id=o),class:"w-full px-3 py-2 border rounded-md"},null,512),[[l,t.id]])])])],512),[[S,b.value===3]]),a(s("div",qe,[s("div",We,[s("div",null,[e[70]||(e[70]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Matrícula Interna",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[23]||(e[23]=o=>t.user_alumno.matricula_interna=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_alumno.matricula_interna"]}])},null,2),[[l,t.user_alumno.matricula_interna]]),r.$page.props.errors["user_alumno.matricula_interna"]?(d(),u("p",Ze,n(r.$page.props.errors["user_alumno.matricula_interna"]),1)):p("",!0)]),s("div",null,[e[71]||(e[71]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Matrícula Oficial",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[24]||(e[24]=o=>t.user_alumno.matricula_oficial=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_alumno.matricula_oficial"]}])},null,2),[[l,t.user_alumno.matricula_oficial]]),r.$page.props.errors["user_alumno.matricula_oficial"]?(d(),u("p",Re,n(r.$page.props.errors["user_alumno.matricula_oficial"]),1)):p("",!0)]),s("div",null,[e[72]||(e[72]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email ALumno",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[25]||(e[25]=o=>t.user_alumno.email_alumno=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_alumno.email_alumno"]}])},null,2),[[l,t.user_alumno.email_alumno]]),r.$page.props.errors["user_alumno.email_alumno"]?(d(),u("p",He,n(r.$page.props.errors["user_alumno.email_alumno"]),1)):p("",!0)]),s("div",null,[e[73]||(e[73]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Enfermedades",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[26]||(e[26]=o=>t.user_alumno.enfermedades=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_alumno.enfermedades"]}])},null,2),[[l,t.user_alumno.enfermedades]]),r.$page.props.errors["user_alumno.enfermedades"]?(d(),u("p",Je,n(r.$page.props.errors["user_alumno.enfermedades"]),1)):p("",!0),a(s("input",{type:"hidden","onUpdate:modelValue":e[27]||(e[27]=o=>t.id=o),class:"w-full px-3 py-2 border rounded-md"},null,512),[[l,t.id]])]),s("div",null,[e[74]||(e[74]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Alergias",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[28]||(e[28]=o=>t.user_alumno.reacciones_alergicas=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_alumno.reacciones_alergicas"]}])},null,2),[[l,t.user_alumno.reacciones_alergicas]]),r.$page.props.errors["user_alumno.reacciones_alergicas"]?(d(),u("p",Ke,n(r.$page.props.errors["user_alumno.reacciones_alergicas"]),1)):p("",!0),a(s("input",{type:"hidden","onUpdate:modelValue":e[29]||(e[29]=o=>t.id=o),class:"w-full px-3 py-2 border rounded-md"},null,512),[[l,t.id]])]),s("div",null,[e[75]||(e[75]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tipo Sangre",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[30]||(e[30]=o=>t.user_alumno.tipo_sangre=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_alumno.tipo_sangre"]}])},null,2),[[l,t.user_alumno.tipo_sangre]]),r.$page.props.errors["user_alumno.tipo_sangre"]?(d(),u("p",Ye,n(r.$page.props.errors["user_alumno.tipo_sangre"]),1)):p("",!0),a(s("input",{type:"hidden","onUpdate:modelValue":e[31]||(e[31]=o=>t.id=o),class:"w-full px-3 py-2 border rounded-md"},null,512),[[l,t.id]])]),s("div",null,[e[76]||(e[76]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Beca SEP",-1)),a(s("input",{type:"number","onUpdate:modelValue":e[32]||(e[32]=o=>t.user_alumno.beca_sep=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_alumno.beca_sep"]}])},null,2),[[l,t.user_alumno.beca_sep]]),r.$page.props.errors["user_alumno.beca_sep"]?(d(),u("p",Qe,n(r.$page.props.errors["user_alumno.beca_sep"]),1)):p("",!0),a(s("input",{type:"hidden","onUpdate:modelValue":e[33]||(e[33]=o=>t.id=o),class:"w-full px-3 py-2 border rounded-md"},null,512),[[l,t.id]])]),s("div",null,[e[77]||(e[77]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Beca Arji",-1)),a(s("input",{type:"number","onUpdate:modelValue":e[34]||(e[34]=o=>t.user_alumno.beca_arji=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_alumno.beca_arji"]}])},null,2),[[l,t.user_alumno.beca_arji]]),r.$page.props.errors["user_alumno.beca_arji"]?(d(),u("p",Xe,n(r.$page.props.errors["user_alumno.beca_arji"]),1)):p("",!0),a(s("input",{type:"hidden","onUpdate:modelValue":e[35]||(e[35]=o=>t.id=o),class:"w-full px-3 py-2 border rounded-md"},null,512),[[l,t.id]])]),s("div",null,[e[78]||(e[78]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Beca SP",-1)),a(s("input",{type:"number","onUpdate:modelValue":e[36]||(e[36]=o=>t.user_alumno.beca_sp=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_alumno.beca_sp"]}])},null,2),[[l,t.user_alumno.beca_sp]]),r.$page.props.errors["user_alumno.beca_sp"]?(d(),u("p",he,n(r.$page.props.errors["user_alumno.beca_sp"]),1)):p("",!0),a(s("input",{type:"hidden","onUpdate:modelValue":e[37]||(e[37]=o=>t.id=o),class:"w-full px-3 py-2 border rounded-md"},null,512),[[l,t.id]])]),s("div",null,[e[79]||(e[79]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Beca Bach",-1)),a(s("input",{type:"number","onUpdate:modelValue":e[38]||(e[38]=o=>t.user_alumno.beca_bach=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_alumno.beca_bach"]}])},null,2),[[l,t.user_alumno.beca_bach]]),r.$page.props.errors["user_alumno.beca_bach"]?(d(),u("p",es,n(r.$page.props.errors["user_alumno.beca_bach"]),1)):p("",!0),a(s("input",{type:"hidden","onUpdate:modelValue":e[39]||(e[39]=o=>t.id=o),class:"w-full px-3 py-2 border rounded-md"},null,512),[[l,t.id]])]),s("div",ss,[f(ee,{checked:t.user_alumno.es_baja,"onUpdate:checked":e[40]||(e[40]=o=>t.user_alumno.es_baja=o),label:"Es baja",error:r.$page.props.errors["user_alumno.es_baja"],id:"es_baja"},null,8,["checked","error"]),e[80]||(e[80]=s("label",{for:"es_baja",class:"ml-2 text-sm text-gray-600"},"Es baja",-1)),f(h,{message:r.$page.props.errors["user_alumno.es_baja"],class:"mt-2"},null,8,["message"])]),s("div",null,[e[81]||(e[81]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Motivo Baja",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[41]||(e[41]=o=>t.user_alumno.motivo_baja=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_alumno.motivo_baja"]}])},null,2),[[l,t.user_alumno.motivo_baja]]),r.$page.props.errors["user_alumno.motivo_baja"]?(d(),u("p",rs,n(r.$page.props.errors["user_alumno.motivo_baja"]),1)):p("",!0),a(s("input",{type:"hidden","onUpdate:modelValue":e[42]||(e[42]=o=>t.id=o),class:"w-full px-3 py-2 border rounded-md"},null,512),[[l,t.id]])]),s("div",null,[e[82]||(e[82]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Fecha Ingreso",-1)),a(s("input",{type:"date","onUpdate:modelValue":e[43]||(e[43]=o=>t.user_alumno.fecha_ingreso=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_alumno.fecha_ingreso"]}]),value:"formatDate(formData.user_alumno.fecha_ingreso)"},null,2),[[l,t.user_alumno.fecha_ingreso]]),r.$page.props.errors["user_alumno.fecha_ingreso"]?(d(),u("p",os,n(r.$page.props.errors["user_alumno.fecha_ingreso"]),1)):p("",!0),a(s("input",{type:"hidden","onUpdate:modelValue":e[44]||(e[44]=o=>t.id=o),class:"w-full px-3 py-2 border rounded-md"},null,512),[[l,t.id]])]),s("div",null,[e[83]||(e[83]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Observaciones",-1)),a(s("input",{type:"text","onUpdate:modelValue":e[45]||(e[45]=o=>t.user_alumno.observaciones=o),class:i(["w-full px-3 py-2 border rounded-md",{"border-red-500":r.$page.props.errors["user_alumno.observaciones"]}])},null,2),[[l,t.user_alumno.observaciones]]),r.$page.props.errors["user_alumno.observaciones"]?(d(),u("p",ts,n(r.$page.props.errors["user_alumno.observaciones"]),1)):p("",!0),a(s("input",{type:"hidden","onUpdate:modelValue":e[46]||(e[46]=o=>t.id=o),class:"w-full px-3 py-2 border rounded-md"},null,512),[[l,t.id]])])])],512),[[S,b.value===4]]),s("div",as,[s("div",null,[b.value>1?(d(),u("button",{key:0,type:"button",onClick:e[47]||(e[47]=o=>b.value--),class:"px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-md border"}," Anterior ")):p("",!0)]),s("div",ls,[b.value<3?(d(),u("button",{key:0,type:"button",onClick:e[48]||(e[48]=o=>b.value++),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300"}," Siguiente ")):p("",!0),s("button",{type:"submit",disabled:_.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50"},n(_.value?"Guardando...":"Guardar"),9,ds),s("button",{type:"button",onClick:w,class:"px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-md border"}," Cancelar ")])])],32)])])]))}},G=se(ns,[["__scopeId","data-v-8fe947f8"]]),us={class:"p-4 bg-white rounded-lg shadow-xs"},ps={class:"inline-flex overflow-hidden mb-4 w-full bg-white rounded-lg shadow-md"},is={class:"px-4 py-2 -mx-3 w-full"},ms={class:"mx-3 float-start"},bs={class:"font-semibold text-blue-500"},gs={class:"float-end px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase sm:grid-cols-9"},ys={action:"/users"},xs={class:"float-end px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase sm:grid-cols-9"},fs={class:"overflow-hidden mb-8 w-full rounded-lg border shadow-xs"},_s={class:"overflow-x-auto w-full"},vs={id:"datasTable",class:"w-full whitespace-no-wrap"},cs={class:"bg-white divide-y"},$s=["id"],ks={class:"px-4 py-3 text-sm"},ws={class:"px-4 py-3 text-sm"},Us={class:"px-4 py-3 text-sm"},Vs={class:"px-4 py-3 text-sm"},js={class:"px-4 py-3 text-sm"},Cs={class:"px-4 py-3 text-sm td-buttons"},Ps={__name:"Index",setup(c){const j=A(()=>B().props.users),M=A(()=>B().props.totalAlumnos),b=v(0),$=v(""),y=v(!1),k=v(null),C=()=>{V.reload({only:["totalAlumnos","users"],preserveScroll:!0,onFinish:async()=>{await E(),k.value&&(k.value.clear().rows.add(props.users).draw(),console.log("🔥 Datos actualizados (modo desarrollo)",props.users))}})},t=()=>{console.log("Evento close recibido"),b.value=null};R(async()=>{await E(),Y(k)}),H(()=>{Q(k)});const _=x=>{if(confirm("¿Estás seguro de que deseas eliminar el usuario "+x+" ?")){const m=route("users.delete",x);V["delete"](m,{preserveScroll:!0,onSuccess:()=>{z("#tblUser-"+x).remove()},onError:w=>{errors.value=w},onFinish:()=>{z("#tblUser-"+x).remove()}})}};return(x,m)=>(d(),u(N,null,[y.value?(d(),O(G,{key:0,mode:"create",class:"z-10",onClose:m[0]||(m[0]=g=>y.value=!1),onSuccess:C})):p("",!0),b.value?(d(),O(G,{key:1,user:{...b.value},mode:"edit",class:"z-21",onClose:t,onSuccess:C},null,8,["user"])):p("",!0),f(J,null,{default:U(()=>[s("div",us,[s("div",ps,[m[6]||(m[6]=s("div",{class:"flex justify-center items-center w-12 bg-blue-500"},[s("svg",{"data-slot":"icon","aria-hidden":"true",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-white"},[s("path",{d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),s("div",is,[s("span",ms,[s("span",bs,"("+n(M.value)+") Usuarios",1),m[3]||(m[3]=s("p",{class:"text-sm text-gray-600"},"Catálago general",-1))]),f(D,{onClick:m[1]||(m[1]=()=>y.value=!0),class:"mt-1","data-tooltip-target":"tooltip-default"},{default:U(()=>m[4]||(m[4]=[s("strong",null,[s("i",{class:"fa fa-user-plus font-extrabold text-2xl text-purple-700 mr-2"})],-1),P("Crear Usuario")])),_:1}),s("span",gs,[s("form",ys,[a(s("input",{type:"text",name:"search","onUpdate:modelValue":m[2]||(m[2]=g=>$.value=g),id:"search",placeholder:"Buscar..."},null,512),[[l,$.value]]),f(X,{"class-btn":"float-end ml-2",show:$.value.length===0,disabled:$.value.length===0,type:"submit"},{default:U(()=>m[5]||(m[5]=[P("Buscar")])),_:1},8,["show","disabled"])])]),s("span",xs,[f(K,{links:j.value.links},null,8,["links"])])])]),s("div",fs,[s("div",_s,[s("table",vs,[m[9]||(m[9]=s("thead",null,[s("tr",{class:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase bg-gray-50 border-b"},[s("th",{class:"px-4 py-3"},"ID"),s("th",{class:"px-4 py-3"},"Username"),s("th",{class:"px-4 py-3"},"Nombre Completo"),s("th",{class:"px-4 py-3"},"Email"),s("th",{class:"px-4 py-3"},"CURP"),s("th",{class:"px-4 py-3"})])],-1)),s("tbody",cs,[(d(!0),u(N,null,I(j.value.data,g=>(d(),u("tr",{key:g.id,class:"text-gray-700 delete-button",id:"tblUser-"+g.id},[s("td",ks,n(g.id),1),s("td",ws,n(g.username),1),s("td",Us,n(g.full_name),1),s("td",Vs,n(g.email),1),s("td",js,n(g.curp),1),s("td",Cs,[f(D,{as:"button",onClick:w=>_(g.id),class:"icon-button-trash"},{default:U(()=>m[7]||(m[7]=[s("i",{class:"fa fa-trash"},null,-1)])),_:2},1032,["onClick"]),f(D,{as:"button",onClick:()=>{b.value=g},class:"icon-button-edit"},{default:U(()=>m[8]||(m[8]=[s("i",{class:"fa fa-edit"},null,-1)])),_:2},1032,["onClick"])])],8,$s))),128))])])])])])]),_:1})],64))}};export{Ps as default};
