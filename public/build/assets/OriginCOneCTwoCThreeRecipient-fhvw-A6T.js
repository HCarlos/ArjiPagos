import{i as I,j as p,n as g,k as u,p as L,d as l,o as r,e as B,u as W,m as G,w as M,f as o,g as O,t as d,F as m,q as _,s as w,v as U,x as z,y as V,W as j}from"./vendor-K2KSp3Ue.js";import{_ as Q}from"./AuthenticatedLayout-JIWfdiXR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"h-screen flex flex-col md:flex-row gap-4 p-4 bg-gray-50 overflow-hidden"},$={class:"flex-1 flex flex-col bg-white rounded-xl shadow-lg overflow-hidden md:min-w-[320px]"},J={class:"p-4 border-b border-gray-100"},P={class:"text-sm font-semibold text-gray-600 uppercase tracking-wide"},X={class:"text-blue-500 ml-1"},Y={class:"flex-1 overflow-y-auto relative"},Z={class:"absolute inset-0"},ee=["value"],oe={class:"text-sm font-medium text-gray-700"},se={key:1,class:"p-6 text-center text-sm text-gray-400"},te={class:"p-3 border-t border-gray-100 bg-gray-50"},le={class:"text-xs font-medium text-gray-500"},re={class:"flex flex-row md:flex-col items-center justify-center gap-3 py-4 md:py-0 md:px-4"},ae=["disabled"],ne={key:0,class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ie=["disabled"],ue={key:0,class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},de={class:"flex-1 flex flex-col bg-white rounded-xl shadow-lg overflow-hidden md:min-w-[360px]"},ce={class:"p-4 border-b border-gray-100 space-y-3"},ve={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},pe=["value"],ge=["value"],be=["value"],me={class:"text-sm font-semibold text-gray-600 uppercase tracking-wide mt-2"},fe={class:"text-red-500 ml-1"},he={class:"flex-1 overflow-y-auto"},ye=["value"],xe={class:"text-sm font-medium text-gray-700"},_e={key:1,class:"p-6 text-center text-sm text-gray-400"},we={class:"p-3 border-t border-gray-100 bg-gray-50"},ke={class:"text-xs font-medium text-gray-500"},Oe={__name:"OriginCOneCTwoCThreeRecipient",setup(Ce){const D=I.useToast(),A=p(()=>g().props.combo1??[]),S=p(()=>g().props.combo2??[]),k=p(()=>g().props.combo3??[]),C=p(()=>g().props.leftDisponibles??[]),b=p(()=>g().props.rightAsignados??[]),E=u(p(()=>g().props.titulo)),F=u(p(()=>g().props.urlAdd)),T=u(p(()=>g().props.urlDelete)),N=u(p(()=>g().props.urlAsignados)),a=u(A.value[0]??0),n=u(S.value[0]??0),c=u(k.value[0]??0),f=u([]),h=u([]),i=u(!1),y=async()=>{if(console.log(a.value,n.value),!(!a.value||!n.value)){i.value=!0,k.value=[],b.value=[];try{await j.get(route(N.value,{combo1_id:a.value,combo2_id:n.value,combo3_id:c.value}),{},{preserveState:!0,preserveScroll:!1,only:["combo3"]})}finally{i.value=!1}}},q=async()=>{if(console.log(a.value,n.value),!(!a.value||!n.value||!c.value)){i.value=!0,b.value=[];try{await j.get(route(N.value,{combo1_id:a.value,combo2_id:n.value,combo3_id:c.value}),{},{preserveState:!0,preserveScroll:!1,only:["rightAsignados"]})}finally{i.value=!1}}};L(async()=>{const v=Object.keys(A.value),e=Object.keys(S.value),s=Object.keys(k.value);v.length>0&&a.value===0&&(a.value=v[0]),e.length>0&&n.value===0&&(n.value=e[0]),s.length>0&&c.value===0&&(c.value=s[0]),await y()});const K=()=>{const v=f.value,e=a.value,s=n.value,t=c.value;!v.length||!e||!s||!t||(i.value=!0,j.post(route(F.value),{ids:v,combo1_id:e,combo2_id:s,combo3_id:t},{preserveScroll:!0,onSuccess:()=>{y(),f.value=[]},onError:x=>{console.error("Error asignando grupos:",x),D.error(x.message)},onFinish:()=>{i.value=!1}}))},H=()=>{const v=h.value,e=a.value,s=n.value,t=c.value;!v.length||!e||!s||!t||(i.value=!0,j.post(route(T.value),{ids:v,combo1_id:e,combo2_id:s,combo3_id:t},{preserveScroll:!0,onSuccess:()=>{y(),h.value=[]},onError:x=>{console.error("Error quitando grupos:",x),D.error(x.message)},onFinish:()=>{i.value=!1}}))};return(v,e)=>(r(),l(m,null,[B(W(G),{title:E.value},null,8,["title"]),B(Q,null,{header:M(()=>[O(d(E.value),1)]),default:M(()=>[o("div",R,[o("section",$,[o("header",J,[o("h3",P,[e[5]||(e[5]=O(" Disponibles ")),o("span",X,"("+d(Object.keys(C.value).length)+")",1)])]),o("div",Y,[o("div",Z,[Object.keys(C.value).length?(r(!0),l(m,{key:0},_(C.value,s=>(r(),l("label",{key:s.id,class:"flex items-center px-4 py-3 space-x-3 hover:bg-blue-50/50 group transition-colors cursor-pointer"},[w(o("input",{type:"checkbox",value:s.id,"onUpdate:modelValue":e[0]||(e[0]=t=>f.value=t),class:"h-4 w-4 text-blue-500 border-gray-300 rounded focus:ring-blue-500 group-hover:border-blue-400 transition-colors"},null,8,ee),[[U,f.value]]),o("span",oe,d(s.descripcion),1)]))),128)):(r(),l("p",se," âœ¨ No hay grupos disponibles "))])]),o("footer",te,[o("span",le,d(Object.keys(C.value).length)+" elementos listados ",1)])]),o("div",re,[o("button",{onClick:K,disabled:i.value||!f.value.length,class:"w-full md:w-40 px-6 py-2.5 flex items-center justify-center gap-2 rounded-xl font-medium bg-gradient-to-b from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-sm hover:shadow-md disabled:opacity-50 disabled:grayscale transition-all duration-200"},[i.value?(r(),l("svg",ne,e[6]||(e[6]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):z("",!0),e[7]||(e[7]=o("span",{class:"hidden md:inline"},"Asignar",-1)),e[8]||(e[8]=o("span",{class:"md:hidden"},"â–¶",-1))],8,ae),o("button",{onClick:H,disabled:i.value||!h.value.length,class:"w-full md:w-40 px-6 py-2.5 flex items-center justify-center gap-2 rounded-xl font-medium bg-gradient-to-b from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-sm hover:shadow-md disabled:opacity-50 disabled:grayscale transition-all duration-200"},[i.value?(r(),l("svg",ue,e[9]||(e[9]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):z("",!0),e[10]||(e[10]=o("span",{class:"hidden md:inline"},"Quitar",-1)),e[11]||(e[11]=o("span",{class:"md:hidden"},"â—€",-1))],8,ie)]),o("section",de,[o("header",ce,[o("div",ve,[w(o("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.value=s),onChange:y,class:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg bg-white text-gray-700 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 hover:border-gray-300 transition-all"},[(r(!0),l(m,null,_(A.value,(s,t)=>(r(),l("option",{key:t,value:t},d(s),9,pe))),128))],544),[[V,a.value]]),w(o("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>n.value=s),onChange:y,class:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg bg-white text-gray-700 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 hover:border-gray-300 transition-all"},[(r(!0),l(m,null,_(S.value,(s,t)=>(r(),l("option",{key:t,value:t},d(s),9,ge))),128))],544),[[V,n.value]]),w(o("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>c.value=s),onChange:q,class:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg bg-white text-gray-700 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 hover:border-gray-300 transition-all"},[(r(!0),l(m,null,_(k.value,(s,t)=>(r(),l("option",{key:t,value:t},d(s),9,be))),128))],544),[[V,c.value]])]),o("h3",me,[e[12]||(e[12]=O(" Asignados ")),o("span",fe,"("+d(Object.keys(b.value).length)+")",1)])]),o("div",he,[Object.keys(b.value).length?(r(!0),l(m,{key:0},_(b.value,s=>(r(),l("label",{key:s.id,class:"flex items-center px-4 py-3 space-x-3 hover:bg-red-50/50 cursor-pointer transition-colors"},[w(o("input",{type:"checkbox",value:s.id,"onUpdate:modelValue":e[4]||(e[4]=t=>h.value=t),class:"h-4 w-4 text-red-500 border-gray-300 rounded focus:ring-red-500 transition-colors"},null,8,ye),[[U,h.value]]),o("span",xe,d(s.descripcion),1)]))),128)):(r(),l("p",_e," ðŸŽ¯ No hay grupos asignados "))]),o("footer",we,[o("span",ke,d(Object.keys(b.value).length)+" elementos asignados ",1)])])])]),_:1})],64))}};export{Oe as default};
