import{i as T,j as p,n as g,k as u,p as H,d as l,o as r,e as V,u as I,m as K,w as D,f as e,g as j,t as c,F as h,q as y,s as _,v as E,x as N,y as B,W as A}from"./vendor-Mf1CNb9E.js";import{_ as L}from"./AuthenticatedLayout-Akbb0_87.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"h-screen flex flex-col md:flex-row gap-4 p-4 bg-gray-50 overflow-hidden"},G={class:"flex-1 flex flex-col bg-white rounded-xl shadow-lg overflow-hidden md:min-w-[320px]"},Q={class:"p-4 border-b border-gray-100"},R={class:"text-sm font-semibold text-gray-600 uppercase tracking-wide"},$={class:"text-blue-500 ml-1"},J={class:"flex-1 overflow-y-auto relative"},P={class:"absolute inset-0"},X=["value"],Y={class:"text-sm font-medium text-gray-700"},Z={key:1,class:"p-6 text-center text-sm text-gray-400"},ee={class:"p-3 border-t border-gray-100 bg-gray-50"},se={class:"text-xs font-medium text-gray-500"},oe={class:"flex flex-row md:flex-col items-center justify-center gap-3 py-4 md:py-0 md:px-4"},te=["disabled"],le={key:0,class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},re=["disabled"],ae={key:0,class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ne={class:"flex-1 flex flex-col bg-white rounded-xl shadow-lg overflow-hidden md:min-w-[360px]"},ie={class:"p-4 border-b border-gray-100 space-y-3"},de={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},ue=["value"],ce=["value"],pe={class:"text-sm font-semibold text-gray-600 uppercase tracking-wide mt-2"},ge={class:"text-red-500 ml-1"},me={class:"flex-1 overflow-y-auto"},ve=["value"],be={class:"text-sm font-medium text-gray-700"},he={key:1,class:"p-6 text-center text-sm text-gray-400"},fe={class:"p-3 border-t border-gray-100 bg-gray-50"},xe={class:"text-xs font-medium text-gray-500"},Ce={__name:"OriginCOneCTwoRecipient",setup(ye){const O=T.useToast(),w=p(()=>g().props.combo1??[]),k=p(()=>g().props.combo2??[]),f=p(()=>g().props.leftDisponibles??[]),x=p(()=>g().props.rightAsignados??[]),S=u(p(()=>g().props.titulo)),M=u(p(()=>g().props.urlAdd)),z=u(p(()=>g().props.urlDelete)),F=u(p(()=>g().props.urlAsignados)),n=u(w.value[0]??0),i=u(k.value[0]??0),m=u([]),v=u([]),a=u(!1),b=async()=>{if(console.log(n.value,i.value),!(!n.value||!i.value)){a.value=!0;try{await A.get(route(F.value,{combo1_id:n.value,combo2_id:i.value}),{},{preserveState:!0,preserveScroll:!1,only:["rightAsignados"]})}finally{a.value=!1}}};H(async()=>{const d=Object.keys(w.value),s=Object.keys(k.value);d.length>0&&n.value===0&&(n.value=d[0]),s.length>0&&i.value===0&&(i.value=s[0]),await b()});const U=()=>{const d=m.value,s=n.value,o=i.value;!d.length||!s||!o||(a.value=!0,A.post(route(M.value),{ids:d,combo1_id:s,combo2_id:o},{preserveScroll:!0,onSuccess:()=>{b(),m.value=[]},onError:t=>{console.error("Error asignando grupos:",t),O.error(t.message)},onFinish:()=>{a.value=!1}}))},q=()=>{const d=v.value,s=n.value,o=i.value;!d.length||!s||!o||(a.value=!0,A.post(route(z.value),{ids:d,combo1_id:s,combo2_id:o},{preserveScroll:!0,onSuccess:()=>{b(),v.value=[]},onError:t=>{console.error("Error quitando grupos:",t),O.error(t.message)},onFinish:()=>{a.value=!1}}))};return(d,s)=>(r(),l(h,null,[V(I(K),{title:S.value},null,8,["title"]),V(L,null,{header:D(()=>[j(c(S.value),1)]),default:D(()=>[e("div",W,[e("section",G,[e("header",Q,[e("h3",R,[s[4]||(s[4]=j(" Disponibles ")),e("span",$,"("+c(Object.keys(f.value).length)+")",1)])]),e("div",J,[e("div",P,[Object.keys(f.value).length?(r(!0),l(h,{key:0},y(f.value,(o,t)=>(r(),l("label",{key:t,class:"flex items-center px-4 py-3 space-x-3 hover:bg-blue-50/50 group transition-colors cursor-pointer"},[_(e("input",{type:"checkbox",value:t,"onUpdate:modelValue":s[0]||(s[0]=C=>m.value=C),class:"h-4 w-4 text-blue-500 border-gray-300 rounded focus:ring-blue-500 group-hover:border-blue-400 transition-colors"},null,8,X),[[E,m.value]]),e("span",Y,c(o),1)]))),128)):(r(),l("p",Z," âœ¨ No hay grupos disponibles "))])]),e("footer",ee,[e("span",se,c(Object.keys(f.value).length)+" elementos listados ",1)])]),e("div",oe,[e("button",{onClick:U,disabled:a.value||!m.value.length,class:"w-full md:w-40 px-6 py-2.5 flex items-center justify-center gap-2 rounded-xl font-medium bg-gradient-to-b from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-sm hover:shadow-md disabled:opacity-50 disabled:grayscale transition-all duration-200"},[a.value?(r(),l("svg",le,s[5]||(s[5]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):N("",!0),s[6]||(s[6]=e("span",{class:"hidden md:inline"},"Asignar",-1)),s[7]||(s[7]=e("span",{class:"md:hidden"},"â–¶",-1))],8,te),e("button",{onClick:q,disabled:a.value||!v.value.length,class:"w-full md:w-40 px-6 py-2.5 flex items-center justify-center gap-2 rounded-xl font-medium bg-gradient-to-b from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-sm hover:shadow-md disabled:opacity-50 disabled:grayscale transition-all duration-200"},[a.value?(r(),l("svg",ae,s[8]||(s[8]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):N("",!0),s[9]||(s[9]=e("span",{class:"hidden md:inline"},"Quitar",-1)),s[10]||(s[10]=e("span",{class:"md:hidden"},"â—€",-1))],8,re)]),e("section",ne,[e("header",ie,[e("div",de,[_(e("select",{"onUpdate:modelValue":s[1]||(s[1]=o=>n.value=o),onChange:b,class:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg bg-white text-gray-700 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 hover:border-gray-300 transition-all"},[(r(!0),l(h,null,y(w.value,(o,t)=>(r(),l("option",{key:t,value:t},c(o),9,ue))),128))],544),[[B,n.value]]),_(e("select",{"onUpdate:modelValue":s[2]||(s[2]=o=>i.value=o),onChange:b,class:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg bg-white text-gray-700 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 hover:border-gray-300 transition-all"},[(r(!0),l(h,null,y(k.value,(o,t)=>(r(),l("option",{key:t,value:t},c(o),9,ce))),128))],544),[[B,i.value]])]),e("h3",pe,[s[11]||(s[11]=j(" Asignados ")),e("span",ge,"("+c(Object.keys(x.value).length)+")",1)])]),e("div",me,[Object.keys(x.value).length?(r(!0),l(h,{key:0},y(x.value,(o,t)=>(r(),l("label",{key:t,class:"flex items-center px-4 py-3 space-x-3 hover:bg-red-50/50 cursor-pointer transition-colors"},[_(e("input",{type:"checkbox",value:t,"onUpdate:modelValue":s[3]||(s[3]=C=>v.value=C),class:"h-4 w-4 text-red-500 border-gray-300 rounded focus:ring-red-500 transition-colors"},null,8,ve),[[E,v.value]]),e("span",be,c(o),1)]))),128)):(r(),l("p",he," ðŸŽ¯ No hay grupos asignados "))]),e("footer",fe,[e("span",xe,c(Object.keys(x.value).length)+" elementos asignados ",1)])])])]),_:1})],64))}};export{Ce as default};
