import{h as g,i as h,j as n,k as $,p as B,x as M,l as T,e as D,o as u,w as l,b as s,a as o,t as r,d as v,s as S,v as V,c as b,F as E,q as N,W as w}from"./app-B-xT1xC4.js";import{_ as j}from"./AuthenticatedLayout-CpipU0hP.js";import{i as y,d as Z}from"./arjiapp-C-OsTUmi.js";import{$ as k}from"./jquery-S2mROG-R.js";/* empty css                                  */import"./dataTables-CasdTq_G.js";import{_ as q}from"./PrimaryButton-B8LfkA2B.js";import{_ as m}from"./SecondaryButton-DwOFVo4Z.js";import A from"./FormModalRegimenFiscal-BCsYaIHm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-Yq1aOB8s.js";import"./TextInput-D60uB1gs.js";import"./InputError-C1y2W_1V.js";const L={class:"p-4 bg-white rounded-lg shadow-xs"},U={class:"inline-flex overflow-hidden mb-4 w-full bg-white rounded-lg shadow-md"},W={class:"px-4 py-2 -mx-3 w-full"},z={class:"mx-3 float-start"},G={class:"font-semibold text-blue-500"},H={class:"float-end px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase sm:grid-cols-9"},J={action:"/regimenes_fiscales_list"},K={class:"mt-6 overflow-x-auto"},O={id:"datasTable",class:"w-full whitespace-no-wrap"},P={class:"bg-white divide-y"},Q=["id"],X={class:"px-4 py-3 text-sm"},Y={class:"px-4 py-3 text-sm"},I={class:"px-4 py-3 text-sm"},ss={class:"px-4 py-3 text-sm td-buttons"},xs={__name:"RegimenesFiscalesList",setup(es){const p=g(()=>h().props.regimenes_fiscales),F=g(()=>h().props.totalRegFis),i=n(""),d=n(!1),f=n({}),x=n(null),_=(a=null)=>{f.value=a??{},d.value=!0},C=()=>{w.reload({only:["regimenes_fiscales"]})};$(()=>{y(x,[[1,"asc"]],50)}),B(()=>{Z()}),M(()=>{var a;return(a=p.value)==null?void 0:a.length},()=>{T(()=>{y(x,[[1,"desc"]],50)})});const R=a=>{if(confirm("¿Estás seguro de que deseas eliminar el registro "+a+" ?")){const e=route("regifis.delete",a);w["delete"](e,{preserveScroll:!0,onSuccess:()=>{alert("El registro fiscal "+a+" fue eliminado correctamente"),k("#tblRegiFis-"+a).remove()},onError:c=>{errors.value=c},onFinish:()=>{k("#tblRegiFis-"+a).remove()}})}};return(a,e)=>(u(),D(j,null,{default:l(()=>[s("div",L,[s("div",U,[e[7]||(e[7]=s("div",{class:"flex justify-center items-center w-12 bg-blue-500"},[s("svg",{"data-slot":"icon","aria-hidden":"true",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-white"},[s("path",{d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),s("div",W,[s("span",z,[s("span",G,"("+r(F.value)+") Regimenes Fiscales",1),e[3]||(e[3]=s("p",{class:"text-sm text-gray-600"},"Catálago general",-1))]),o(m,{onClick:e[0]||(e[0]=t=>_())},{default:l(()=>e[4]||(e[4]=[s("i",{class:"mr-2 fas fa-plus"},null,-1),v(" Nuevo Registro ")])),_:1}),o(A,{show:d.value,regimen_fiscal:f.value,onClose:e[1]||(e[1]=t=>d.value=!1),onSuccess:C},null,8,["show","regimen_fiscal"]),s("span",H,[s("form",J,[S(s("input",{type:"text",name:"search","onUpdate:modelValue":e[2]||(e[2]=t=>i.value=t),id:"search",placeholder:"Buscar..."},null,512),[[V,i.value]]),o(q,{"class-btn":"float-end ml-2",show:i.value.length===0,disabled:i.value.length===0,type:"submit"},{default:l(()=>e[5]||(e[5]=[v("Buscar")])),_:1},8,["show","disabled"])])]),e[6]||(e[6]=s("span",{class:"float-end px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase sm:grid-cols-9"},null,-1))])]),s("div",K,[s("table",O,[e[10]||(e[10]=s("thead",null,[s("tr",{class:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase bg-gray-50 border-b"},[s("th",{class:"px-4 py-3"},"ID"),s("th",{class:"px-4 py-3"},"Clave Fiscal"),s("th",{class:"px-4 py-3"},"Regimen Fiscal"),s("th",{class:"px-4 py-3"})])],-1)),s("tbody",P,[(u(!0),b(E,null,N(p.value,t=>(u(),b("tr",{key:t.id,class:"text-gray-700 delete-button",id:"tblRegiFis-"+t.id},[s("td",X,r(t.id),1),s("td",Y,r(t.clave_regimen_fiscal),1),s("td",I,r(t.regimen_fiscal),1),s("td",ss,[o(m,{as:"button",onClick:c=>R(t.id),class:"icon-button-trash"},{default:l(()=>e[8]||(e[8]=[s("i",{class:"fa fa-trash"},null,-1)])),_:2},1032,["onClick"]),o(m,{as:"button",onClick:c=>_(t),class:"icon-button-edit"},{default:l(()=>e[9]||(e[9]=[s("i",{class:"fa fa-edit"},null,-1)])),_:2},1032,["onClick"])])],8,Q))),128))])])])])]),_:1}))}};export{xs as default};
