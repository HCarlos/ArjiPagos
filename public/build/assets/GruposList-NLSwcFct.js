import{j as c,n as u,k as p,p as $,G as f,z as h,o as n,w as y,f as o,t,s as E,e as S,H as V,g as j,d as v,x as D,F,q as z,W as _}from"./vendor-DjFIUTS1.js";import{_ as T}from"./AuthenticatedLayout-wo3sCvM2.js";import{_ as q}from"./PrimaryButton-B0op7gHA.js";/* empty css                */import A from"./FormModalGrupo-BqDAYERT.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-Cn6cI5Zs.js";import"./SecondaryButton-DM6w04Lp.js";import"./InputLabel-CgOoo3kk.js";import"./TextInput-DW3f-pjc.js";import"./InputError-w8Dq4Fot.js";import"./ToggleSwitch-DRPVYBwY.js";const H={class:"p-6 bg-white rounded-2xl shadow-sm border border-gray-100"},I={class:"mb-6 p-5 bg-indigo-50 rounded-xl border-l-4 border-indigo-600 shadow-xs flex items-center justify-between"},L={class:"flex items-center gap-4"},W={class:"text-2xl font-bold text-gray-900"},P={class:"flex items-center gap-3"},R={class:"mb-6 flex flex-col md:flex-row gap-4 items-center justify-between"},U={action:"/grupos",class:"w-full md:w-auto flex gap-2"},J={class:"overflow-x-auto rounded-xl border border-gray-200 shadow-xs"},K={class:"w-full min-w-[600px]"},O={class:"divide-y divide-gray-100"},Q={class:"px-5 py-4 text-sm font-semibold text-indigo-900"},X={class:"px-5 py-4 font-medium text-gray-900"},Y={class:"px-5 py-4 font-medium text-gray-900"},Z={class:"px-5 py-4 font-medium text-gray-900"},oo={class:"px-5 py-4 font-medium text-gray-900"},eo={class:"px-5 py-4 flex items-center gap-2"},so=["onClick"],to=["onClick"],ro={key:0},ho={__name:"GruposList",setup(lo){const g=c(()=>u().props.grupos),w=c(()=>u().props.niveles),k=c(()=>u().props.ciclos),C=c(()=>u().props.totalGrupos),i=p(""),a=p(!1),l=p({});p("nuevo"),$(async()=>{console.log(g.value),await f()});const m=()=>{_.reload({only:["totalGrupos","grupos"],preserveScroll:!0,onFinish:async()=>{await f(),a.value=!1,l.value=null}})},b=r=>{l.value=r!==null?{...r}:{},a.value=!0},B=()=>{l.value=null,a.value=!1},G=function(){window.location.reload()},M=r=>{if(confirm("¿Estás seguro de que deseas eliminar el Item "+r+" ?")){const e=route("grupo.delete",r);_["delete"](e,{preserveScroll:!0,onError:d=>{errors.value=d},onFinish:()=>{m()}})}};return(r,e)=>(n(),h(T,null,{default:y(()=>{var x,d;return[o("div",H,[o("div",I,[o("div",L,[e[3]||(e[3]=o("div",{class:"p-2.5 bg-indigo-100 rounded-lg"},[o("svg",{class:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),o("div",null,[o("h1",W," 📚 ("+t(C.value)+") Grupos ",1),e[2]||(e[2]=o("p",{class:"mt-1 text-sm text-gray-600 font-medium"}," Catálogo general ",-1))])]),o("div",P,[o("button",{onClick:e[0]||(e[0]=s=>b(null)),class:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Agregar nueva grupo"},e[4]||(e[4]=[o("i",{class:"fas fa-plus-circle fa-lg"},null,-1)])),o("button",{onClick:G,class:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Recargar datos"},e[5]||(e[5]=[o("i",{class:"fas fa-sync-alt fa-lg"},null,-1)])),(n(),h(A,{key:((d=(x=l.value)==null?void 0:x.value)==null?void 0:d.id)??"nuevo",show:a.value,grupo:l.value,ciclos:k.value,niveles:w.value,onClose:B,onSuccess:m},null,8,["show","grupo","ciclos","niveles"]))])]),o("div",R,[o("form",U,[E(o("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=s=>i.value=s),name:"search",id:"search",placeholder:"🔍 Buscar grupo...",class:"w-full md:w-64 p-2.5 border-2 border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all"},null,512),[[V,i.value]]),S(q,{type:"submit",class:"h-[42px] px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl shadow-md",show:i.value.length===0,disabled:i.value.length===0},{default:y(()=>e[6]||(e[6]=[j(" Buscar ")])),_:1},8,["show","disabled"])])]),o("div",J,[o("table",K,[e[8]||(e[8]=o("thead",{class:"bg-indigo-50"},[o("tr",{class:"text-left text-sm font-semibold text-indigo-900"},[o("th",{class:"px-5 py-4 border-b border-indigo-100"},"ID"),o("th",{class:"px-5 py-4 border-b border-indigo-100"},"Clave"),o("th",{class:"px-5 py-4 border-b border-indigo-100"},"Grupo"),o("th",{class:"px-5 py-4 border-b border-indigo-100"},"Nivel"),o("th",{class:"px-5 py-4 border-b border-indigo-100"},"Ciclo"),o("th",{class:"px-5 py-4 border-b border-indigo-100 w-48"},"Acciones")])],-1)),o("tbody",O,[(n(!0),v(F,null,z(g.value,s=>(n(),v("tr",{key:s.id,class:"hover:bg-indigo-50/30 transition-colors group"},[o("td",Q,t(s.id),1),o("td",X,t(s.clave_grupo),1),o("td",Y,t(s.grupo)+" ("+t(s.alumnos.length)+")",1),o("td",Z,t(s.nivel),1),o("td",oo,t(s.ciclo),1),o("td",eo,[o("button",{onClick:N=>M(s.id),class:"text-red-500 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Eliminar"}," 🗑️ ",8,so),o("button",{onClick:N=>b(s),class:"text-blue-500 hover:text-blue-700 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"Editar"}," ✏️ ",8,to)])]))),128)),g.value.length===0?(n(),v("tr",ro,e[7]||(e[7]=[o("td",{colspan:"3",class:"px-5 py-6 text-center text-gray-500 italic"}," 📭 No se encontraron grupos ",-1)]))):D("",!0)])])])])]}),_:1}))}};export{ho as default};
