import{k as h,C as z,j as x,J as O,G,z as H,o as u,w as T,f as s,g as f,t as b,u as i,A as I,B as n,s as g,e as o,d as m,F as y,q as w,y as V,M as S}from"./vendor-DjFIUTS1.js";import{_ as q}from"./Modal-Cn6cI5Zs.js";import{_ as p}from"./InputLabel-CgOoo3kk.js";import{_ as U}from"./TextInput-DW3f-pjc.js";import{_ as r}from"./InputError-w8Dq4Fot.js";import{_ as L}from"./PrimaryButton-B0op7gHA.js";import{_ as J}from"./SecondaryButton-DM6w04Lp.js";import{_ as v}from"./ToggleSwitch-DRPVYBwY.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-2xl border border-blue-100"},R={class:"flex items-center justify-between mb-6 pb-3 border-b border-blue-200"},W={class:"text-2xl font-bold text-indigo-800"},X={class:"flex flex-wrap border-b border-indigo-200 mb-6 overflow-x-auto"},Y={class:"tab-content"},Z={class:"bg-white rounded-xl p-6 border border-indigo-100 shadow-sm"},ee={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},se={class:"space-y-1"},le={class:"relative"},ae=["value","disabled"],oe={class:"space-y-1"},ie={class:"relative"},te=["value","disabled"],de={class:"space-y-1"},re={class:"relative"},ne={class:"space-y-1"},ue={class:"relative"},me={class:"space-y-1"},ce={class:"relative"},pe={class:"space-y-1"},ge={class:"relative"},be={class:"bg-white rounded-xl p-6 border border-indigo-100 shadow-sm"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},fe={class:"bg-blue-50 p-4 rounded-lg border border-blue-100"},_e={class:"bg-blue-50 p-4 rounded-lg border border-blue-100"},xe={class:"bg-blue-50 p-4 rounded-lg border border-blue-100 md:col-span-2"},ye={class:"bg-white rounded-xl p-6 border border-indigo-100 shadow-sm"},we={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ve={class:"space-y-1"},Ue={class:"relative"},Ae=["value","disabled"],Ce={class:"space-y-1"},Se={class:"relative"},$e=["value","disabled"],he={class:"space-y-1"},Te={class:"relative"},ke=["value","disabled"],Ee={class:"bg-blue-50 p-4 rounded-lg border border-blue-100 flex items-center"},Oe={class:"flex-1"},Pe={class:"bg-white rounded-xl p-6 border border-indigo-100 shadow-sm"},Fe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Me={class:"bg-blue-50 p-4 rounded-lg border border-blue-100"},Be={class:"bg-blue-50 p-4 rounded-lg border border-blue-100"},je={class:"bg-blue-50 p-4 rounded-lg border border-blue-100"},De={class:"bg-blue-50 p-4 rounded-lg border border-blue-100"},Ne={class:"space-y-1 md:col-span-2"},ze={class:"relative"},Ge={class:"flex justify-end space-x-4 mt-8 pt-4 border-t border-blue-200"},He={key:0},Ie={key:1},qe={__name:"FormModalPagoConfig",props:{show:Boolean,pago:{type:Object,default:()=>({})},niveles:{type:Array,default:()=>[]},conceptos:{type:Array,default:()=>[]},emisoresfiscales:{type:Array,default:()=>[]},prodservsats:{type:Array,default:()=>[]},unidades:{type:Array,default:()=>[]}},emits:["close","success"],setup(k,{emit:P}){const _=k,E=P,$=h(!1),t=h({}),c=h(0),a=z({id:0,nivel_id:"",emisorfiscal_id:"",concepto_id:"",importe:0,dia_limite:0,dia_de_pago:0,tiene_descuento_beca:!1,tiene_descuento:!1,acepta_pagos_diversos:!1,aplica_al_siguiente_nivel:!1,aplica_a:!1,tiene_descuento_por_promocion:!1,es_facturable:!1,se_puede_ver_en_pantalla:!1,orden_prioridad:0,prodservsat_id:"",unidadmedidasat_id:"",tagpagos:""},{casts:{importe:"number",dia_limite:"number",dia_de_pago:"number",orden_prioridad:"number",tiene_descuento_beca:"boolean",tiene_descuento:"boolean",acepta_pagos_diversos:"boolean",aplica_al_siguiente_nivel:"boolean",aplica_a:"boolean",tiene_descuento_por_promocion:"boolean",es_facturable:"boolean",se_puede_ver_en_pantalla:"boolean",tagpagos:"string"}}),F=x(()=>[{value:"",label:"Seleccionar nivel",disabled:!0},..._.niveles.map(d=>({value:d.id,label:`${d.clave_nivel} - ${d.nivel}`}))]),M=x(()=>[{value:"",label:"Seleccionar concepto",disabled:!0},..._.conceptos.map(d=>({value:d.id,label:d.concepto}))]),B=x(()=>[{value:"",label:"Seleccionar emisor fiscal",disabled:!0},..._.emisoresfiscales.map(d=>({value:d.id,label:d.razon_social_cfdi_40}))]),j=x(()=>[{value:"",label:"Seleccionar producto/servicio",disabled:!0},..._.prodservsats.map(d=>({value:d.id,label:`${d.producto_servicio}`}))]),D=x(()=>[{value:"",label:"Seleccionar unidad de medida",disabled:!0},..._.unidades.map(d=>({value:d.id,label:`${d.unidad_medida}`}))]);O(()=>({..._.pago}),d=>{d.id?Object.keys(a).forEach(e=>{e in d&&(a.casts&&a.casts[e]==="boolean"?a[e]=!!d[e]:a.casts&&a.casts[e]==="number"?a[e]=Number(d[e])||0:a.casts&&a.casts[e]==="string"?a[e]=String(d[e])||"":a[e]=d[e])}):a.reset()},{deep:!0}),O(()=>t.value,d=>{t.value=d,G(()=>{c.value=0})});const N=()=>{$.value=!0,t.value={};const d=a.id?route("configuraciondepago.update",a.id):route("configuraciondepago.store");a.transform(e=>({...e})).submit(a.id?"put":"post",d,{preserveScroll:!0,onSuccess:()=>{E("success"),A()},onError:e=>{$.value=!1,t.value=e},onFinish:()=>{$.value=!1}})},A=()=>{a.reset(),a.clearErrors(),E("close")},C=d=>{c.value=d};return(d,e)=>(u(),H(q,{show:k.show,onClose:A,"max-width":"5xl"},{default:T(()=>[s("div",Q,[s("div",R,[s("h2",W,[e[22]||(e[22]=s("i",{class:"fas fa-file-invoice-dollar mr-2"},null,-1)),f(" "+b(i(a).id?"Editar":"Crear")+" Pago "+b(i(a).id),1)]),s("button",{onClick:A,class:"text-gray-500 hover:text-red-500 transition-colors duration-200"},e[23]||(e[23]=[s("i",{class:"fas fa-times text-xl"},null,-1)]))]),s("form",{onSubmit:I(N,["prevent"])},[s("div",X,[s("button",{type:"button",onClick:e[0]||(e[0]=l=>C(0)),class:n(["px-6 py-3 font-medium text-sm rounded-t-xl flex items-center transition-all duration-300",c.value===0?"bg-white text-indigo-700 border-b-2 border-indigo-500 shadow-sm":"text-gray-600 hover:text-indigo-600 hover:bg-indigo-50"])},e[24]||(e[24]=[s("i",{class:"fas fa-info-circle mr-2"},null,-1),f(" Información General ")]),2),s("button",{type:"button",onClick:e[1]||(e[1]=l=>C(1)),class:n(["px-6 py-3 font-medium text-sm rounded-t-xl flex items-center transition-all duration-300",c.value===1?"bg-white text-indigo-700 border-b-2 border-indigo-500 shadow-sm":"text-gray-600 hover:text-indigo-600 hover:bg-indigo-50"])},e[25]||(e[25]=[s("i",{class:"fas fa-percent mr-2"},null,-1),f(" Descuentos ")]),2),s("button",{type:"button",onClick:e[2]||(e[2]=l=>C(2)),class:n(["px-6 py-3 font-medium text-sm rounded-t-xl flex items-center transition-all duration-300",c.value===2?"bg-white text-indigo-700 border-b-2 border-indigo-500 shadow-sm":"text-gray-600 hover:text-indigo-600 hover:bg-indigo-50"])},e[26]||(e[26]=[s("i",{class:"fas fa-receipt mr-2"},null,-1),f(" Facturación ")]),2),s("button",{type:"button",onClick:e[3]||(e[3]=l=>C(3)),class:n(["px-6 py-3 font-medium text-sm rounded-t-xl flex items-center transition-all duration-300",c.value===3?"bg-white text-indigo-700 border-b-2 border-indigo-500 shadow-sm":"text-gray-600 hover:text-indigo-600 hover:bg-indigo-50"])},e[27]||(e[27]=[s("i",{class:"fas fa-cog mr-2"},null,-1),f(" Opciones ")]),2)]),s("div",Y,[g(s("div",Z,[s("div",ee,[s("div",se,[o(p,{for:"nivel_id",value:"Nivel",class:"font-medium text-gray-700"}),s("div",le,[g(s("select",{id:"nivel_id","onUpdate:modelValue":e[4]||(e[4]=l=>i(a).nivel_id=l),class:n(["w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 shadow-sm transition-all duration-300",{"border-red-500":t.value.nivel_id}])},[(u(!0),m(y,null,w(F.value,l=>(u(),m("option",{key:l.value,value:l.value,disabled:l.disabled},b(l.label),9,ae))),128))],2),[[V,i(a).nivel_id]]),e[28]||(e[28]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"},[s("i",{class:"fas fa-layer-group"})],-1))]),o(r,{message:t.value.nivel_id,class:"mt-1"},null,8,["message"])]),s("div",oe,[o(p,{for:"concepto_id",value:"Concepto",class:"font-medium text-gray-700"}),s("div",ie,[g(s("select",{id:"concepto_id","onUpdate:modelValue":e[5]||(e[5]=l=>i(a).concepto_id=l),class:n(["w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 shadow-sm transition-all duration-300",{"border-red-500":t.value.concepto_id}])},[(u(!0),m(y,null,w(M.value,l=>(u(),m("option",{key:l.value,value:l.value,disabled:l.disabled},b(l.label),9,te))),128))],2),[[V,i(a).concepto_id]]),e[29]||(e[29]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"},[s("i",{class:"fas fa-tag"})],-1))]),o(r,{message:t.value.concepto_id,class:"mt-1"},null,8,["message"])]),s("div",de,[o(p,{for:"importe",value:"Importe",class:"font-medium text-gray-700"}),s("div",re,[o(U,{id:"importe",modelValue:i(a).importe,"onUpdate:modelValue":e[6]||(e[6]=l=>i(a).importe=l),type:"number",step:"0.01",min:"0",class:n(["w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 shadow-sm transition-all duration-300",{"border-red-500":t.value.importe}])},null,8,["modelValue","class"]),e[30]||(e[30]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"},[s("i",{class:"fas fa-dollar-sign"})],-1))]),o(r,{message:t.value.importe,class:"mt-1"},null,8,["message"])]),s("div",ne,[o(p,{for:"dia_limite",value:"Día Límite",class:"font-medium text-gray-700"}),s("div",ue,[o(U,{id:"dia_limite",modelValue:i(a).dia_limite,"onUpdate:modelValue":e[7]||(e[7]=l=>i(a).dia_limite=l),type:"number",min:"0",max:"31",class:n(["w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 shadow-sm transition-all duration-300",{"border-red-500":t.value.dia_limite}])},null,8,["modelValue","class"]),e[31]||(e[31]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"},[s("i",{class:"fas fa-calendar-times"})],-1))]),o(r,{message:t.value.dia_limite,class:"mt-1"},null,8,["message"])]),s("div",me,[o(p,{for:"dia_de_pago",value:"Día de Pago",class:"font-medium text-gray-700"}),s("div",ce,[o(U,{id:"dia_de_pago",modelValue:i(a).dia_de_pago,"onUpdate:modelValue":e[8]||(e[8]=l=>i(a).dia_de_pago=l),type:"number",min:"0",max:"31",class:n(["w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 shadow-sm transition-all duration-300",{"border-red-500":t.value.dia_de_pago}])},null,8,["modelValue","class"]),e[32]||(e[32]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"},[s("i",{class:"fas fa-calendar-check"})],-1))]),o(r,{message:t.value.dia_de_pago,class:"mt-1"},null,8,["message"])]),s("div",pe,[o(p,{for:"orden_prioridad",value:"Orden Prioridad",class:"font-medium text-gray-700"}),s("div",ge,[o(U,{id:"orden_prioridad",modelValue:i(a).orden_prioridad,"onUpdate:modelValue":e[9]||(e[9]=l=>i(a).orden_prioridad=l),type:"number",min:"0",class:n(["w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 shadow-sm transition-all duration-300",{"border-red-500":t.value.orden_prioridad}])},null,8,["modelValue","class"]),e[33]||(e[33]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"},[s("i",{class:"fas fa-sort-numeric-up"})],-1))]),o(r,{message:t.value.orden_prioridad,class:"mt-1"},null,8,["message"])])])],512),[[S,c.value===0]]),g(s("div",be,[s("div",ve,[s("div",fe,[o(v,{modelValue:i(a).tiene_descuento_beca,"onUpdate:modelValue":e[10]||(e[10]=l=>i(a).tiene_descuento_beca=l),label:"Tiene descuento por beca","active-color":"bg-indigo-600","show-labels":!0,class:"w-full"},null,8,["modelValue"]),e[34]||(e[34]=s("p",{class:"text-xs text-gray-600 mt-2 ml-10"}," Habilitar si este pago aplica para descuentos por beca académica ",-1)),o(r,{message:t.value.tiene_descuento_beca,class:"mt-1"},null,8,["message"])]),s("div",_e,[o(v,{modelValue:i(a).tiene_descuento,"onUpdate:modelValue":e[11]||(e[11]=l=>i(a).tiene_descuento=l),label:"Tiene descuento","active-color":"bg-indigo-600","show-labels":!0,class:"w-full"},null,8,["modelValue"]),e[35]||(e[35]=s("p",{class:"text-xs text-gray-600 mt-2 ml-10"}," Activar si este pago tiene algún tipo de descuento regular ",-1)),o(r,{message:t.value.tiene_descuento,class:"mt-1"},null,8,["message"])]),s("div",xe,[o(v,{modelValue:i(a).tiene_descuento_por_promocion,"onUpdate:modelValue":e[12]||(e[12]=l=>i(a).tiene_descuento_por_promocion=l),label:"Tiene descuento por promoción","active-color":"bg-indigo-600","show-labels":!0,class:"w-full"},null,8,["modelValue"]),e[36]||(e[36]=s("p",{class:"text-xs text-gray-600 mt-2 ml-10"}," Habilitar si este pago tiene descuentos especiales por promociones temporales ",-1)),o(r,{message:t.value.tiene_descuento_por_promocion,class:"mt-1"},null,8,["message"])])])],512),[[S,c.value===1]]),g(s("div",ye,[s("div",we,[s("div",Ve,[o(p,{for:"emisorfiscal_id",value:"Emisor Fiscal",class:"font-medium text-gray-700"}),s("div",Ue,[g(s("select",{id:"emisorfiscal_id","onUpdate:modelValue":e[13]||(e[13]=l=>i(a).emisorfiscal_id=l),class:n(["w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 shadow-sm transition-all duration-300",{"border-red-500":t.value.emisorfiscal_id}])},[(u(!0),m(y,null,w(B.value,l=>(u(),m("option",{key:l.value,value:l.value,disabled:l.disabled},b(l.label),9,Ae))),128))],2),[[V,i(a).emisorfiscal_id]]),e[37]||(e[37]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"},[s("i",{class:"fas fa-building"})],-1))]),o(r,{message:t.value.emisorfiscal_id,class:"mt-1"},null,8,["message"])]),s("div",Ce,[o(p,{for:"prodservsat_id",value:"Producto/Servicio SAT",class:"font-medium text-gray-700"}),s("div",Se,[g(s("select",{id:"prodservsat_id","onUpdate:modelValue":e[14]||(e[14]=l=>i(a).prodservsat_id=l),class:n(["w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 shadow-sm transition-all duration-300",{"border-red-500":t.value.prodservsat_id}])},[(u(!0),m(y,null,w(j.value,l=>(u(),m("option",{key:l.value,value:l.value,disabled:l.disabled},b(l.label),9,$e))),128))],2),[[V,i(a).prodservsat_id]]),e[38]||(e[38]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"},[s("i",{class:"fas fa-box"})],-1))]),o(r,{message:t.value.prodservsat_id,class:"mt-1"},null,8,["message"])]),s("div",he,[o(p,{for:"unidadmedidasat_id",value:"Unidad de Medida SAT",class:"font-medium text-gray-700"}),s("div",Te,[g(s("select",{id:"unidadmedidasat_id","onUpdate:modelValue":e[15]||(e[15]=l=>i(a).unidadmedidasat_id=l),class:n(["w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 shadow-sm transition-all duration-300",{"border-red-500":t.value.unidadmedidasat_id}])},[(u(!0),m(y,null,w(D.value,l=>(u(),m("option",{key:l.value,value:l.value,disabled:l.disabled},b(l.label),9,ke))),128))],2),[[V,i(a).unidadmedidasat_id]]),e[39]||(e[39]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"},[s("i",{class:"fas fa-ruler"})],-1))]),o(r,{message:t.value.unidadmedidasat_id,class:"mt-1"},null,8,["message"])]),s("div",Ee,[s("div",Oe,[o(v,{modelValue:i(a).es_facturable,"onUpdate:modelValue":e[16]||(e[16]=l=>i(a).es_facturable=l),label:"Es facturable","active-color":"bg-indigo-600","show-labels":!0,class:"w-full"},null,8,["modelValue"]),e[40]||(e[40]=s("p",{class:"text-xs text-gray-600 mt-2 ml-10"}," Activar si este pago debe generar factura ",-1))]),o(r,{message:t.value.es_facturable,class:"mt-1"},null,8,["message"])])])],512),[[S,c.value===2]]),g(s("div",Pe,[s("div",Fe,[s("div",Me,[o(v,{modelValue:i(a).acepta_pagos_diversos,"onUpdate:modelValue":e[17]||(e[17]=l=>i(a).acepta_pagos_diversos=l),label:"Acepta pagos diversos","active-color":"bg-indigo-600","show-labels":!0,class:"w-full"},null,8,["modelValue"]),e[41]||(e[41]=s("p",{class:"text-xs text-gray-600 mt-2 ml-10"}," Habilitar si este pago puede recibir múltiples formas de pago ",-1)),o(r,{message:t.value.acepta_pagos_diversos,class:"mt-1"},null,8,["message"])]),s("div",Be,[o(v,{modelValue:i(a).aplica_al_siguiente_nivel,"onUpdate:modelValue":e[18]||(e[18]=l=>i(a).aplica_al_siguiente_nivel=l),label:"Aplica al siguiente nivel","active-color":"bg-indigo-600","show-labels":!0,class:"w-full"},null,8,["modelValue"]),e[42]||(e[42]=s("p",{class:"text-xs text-gray-600 mt-2 ml-10"}," Activar si este pago se extiende al siguiente nivel académico ",-1)),o(r,{message:t.value.aplica_al_siguiente_nivel,class:"mt-1"},null,8,["message"])]),s("div",je,[o(v,{modelValue:i(a).aplica_a,"onUpdate:modelValue":e[19]||(e[19]=l=>i(a).aplica_a=l),label:"Aplica a","active-color":"bg-indigo-600","show-labels":!0,class:"w-full"},null,8,["modelValue"]),e[43]||(e[43]=s("p",{class:"text-xs text-gray-600 mt-2 ml-10"}," Especificar si este pago aplica a grupos específicos ",-1)),o(r,{message:t.value.aplica_a,class:"mt-1"},null,8,["message"])]),s("div",De,[o(v,{modelValue:i(a).se_puede_ver_en_pantalla,"onUpdate:modelValue":e[20]||(e[20]=l=>i(a).se_puede_ver_en_pantalla=l),label:"Visible en pantalla","active-color":"bg-indigo-600","show-labels":!0,class:"w-full"},null,8,["modelValue"]),e[44]||(e[44]=s("p",{class:"text-xs text-gray-600 mt-2 ml-10"}," Controlar la visibilidad de este pago en interfaces públicas ",-1)),o(r,{message:t.value.se_puede_ver_en_pantalla,class:"mt-1"},null,8,["message"])]),s("div",Ne,[o(p,{for:"tagpagos",value:"Tags de Pagos",class:"font-medium text-gray-700"}),s("div",ze,[o(U,{id:"tagpagos",modelValue:i(a).tagpagos,"onUpdate:modelValue":e[21]||(e[21]=l=>i(a).tagpagos=l),type:"text",class:n(["w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 shadow-sm transition-all duration-300",{"border-red-500":t.value.tagpagos}]),placeholder:"Etiquetas para clasificar pagos (separadas por comas)"},null,8,["modelValue","class"]),e[45]||(e[45]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"},[s("i",{class:"fas fa-tags"})],-1))]),o(r,{message:t.value.tagpagos,class:"mt-1"},null,8,["message"])])])],512),[[S,c.value===3]])]),s("div",Ge,[o(J,{onClick:A,type:"button"},{default:T(()=>e[46]||(e[46]=[f(" Cancelar ")])),_:1}),o(L,{type:"submit",disabled:i(a).processing},{default:T(()=>[i(a).processing?(u(),m("span",He,e[47]||(e[47]=[s("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),f(" Procesando... ")]))):(u(),m("span",Ie,b(i(a).id?"Actualizar":"Guardar"),1))]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]))}},es=K(qe,[["__scopeId","data-v-5321c9f9"]]);export{es as default};
