import{j as v,n as _,k as i,p as U,K as $,J as B,G as M,z as I,o as c,w as a,f as s,e as l,t as r,g as b,s as T,H as S,d as w,F as V,q as E,W as g,$ as y}from"./vendor-Mf1CNb9E.js";import{_ as N}from"./AuthenticatedLayout-DVEoqzbI.js";import{i as C,d as j}from"./arjiapp-Dv93kE7T.js";import{_ as Z}from"./PrimaryButton-BHT_Es18.js";import{_ as p}from"./SecondaryButton-BFSfs1Pf.js";/* empty css                */import q from"./FormModalUsoCFDI-DgK9Y61H.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-BiIQ4ezI.js";import"./InputLabel-BzSsAvK3.js";import"./TextInput-Dd1u-XdJ.js";import"./InputError-DqGi1oU4.js";const z={class:"p-4 bg-white rounded-lg shadow-xs"},A={class:"inline-flex overflow-hidden mb-4 w-full bg-white rounded-lg shadow-md"},L={class:"px-4 py-2 -mx-3 w-full"},R={class:"mx-3 float-start"},W={class:"font-semibold text-blue-500"},G={class:"float-end px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase sm:grid-cols-9"},H={action:"/usocfdi_list"},J={class:"mt-6 overflow-x-auto"},K={id:"datasTable",class:"w-full whitespace-no-wrap"},O={class:"bg-white divide-y"},P=["id"],Q={class:"px-4 py-3 text-sm"},X={class:"px-4 py-3 text-sm"},Y={class:"px-4 py-3 text-sm"},ss={class:"px-4 py-3 text-sm td-buttons"},fs={__name:"UsoCFDIList",setup(ts){const m=v(()=>_().props.usocfdis),k=v(()=>_().props.totalUsoCFDIs),n=i(""),d=i(!1),f=i({}),x=i(null),h=(o=null)=>{f.value=o??{},d.value=!0},D=()=>{g.reload({only:["usocfdis"]})};U(()=>{C(x,[[1,"asc"]],50)}),$(()=>{j()}),B(()=>{var o;return(o=m.value)==null?void 0:o.length},()=>{M(()=>{C(x,[[1,"desc"]],50)})});const F=o=>{if(confirm("¿Estás seguro de que deseas eliminar el registro "+o+" ?")){const t=route("usocfdi.delete",o);g["delete"](t,{preserveScroll:!0,onSuccess:()=>{alert("El Uso CFDI "+o+" fue eliminado correctamente"),y("#tblUsoCFDIs-"+o).remove()},onError:u=>{errors.value=u},onFinish:()=>{y("#tblUsoCFDIs-"+o).remove()}})}};return(o,t)=>(c(),I(N,null,{default:a(()=>[s("div",z,[s("div",A,[t[7]||(t[7]=s("div",{class:"flex justify-center items-center w-12 bg-blue-500"},[s("svg",{"data-slot":"icon","aria-hidden":"true",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-white"},[s("path",{d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),s("div",L,[s("span",R,[s("span",W,"("+r(k.value)+") USO CFDI",1),t[3]||(t[3]=s("p",{class:"text-sm text-gray-600"},"Catálago general",-1))]),l(p,{onClick:t[0]||(t[0]=e=>h())},{default:a(()=>t[4]||(t[4]=[s("i",{class:"mr-2 fas fa-plus"},null,-1),b(" Nuevo Registro ")])),_:1}),l(q,{show:d.value,usocfdi:f.value,onClose:t[1]||(t[1]=e=>d.value=!1),onSuccess:D},null,8,["show","usocfdi"]),s("span",G,[s("form",H,[T(s("input",{type:"text",name:"search","onUpdate:modelValue":t[2]||(t[2]=e=>n.value=e),id:"search",placeholder:"Buscar..."},null,512),[[S,n.value]]),l(Z,{"class-btn":"float-end ml-2",show:n.value.length===0,disabled:n.value.length===0,type:"submit"},{default:a(()=>t[5]||(t[5]=[b("Buscar")])),_:1},8,["show","disabled"])])]),t[6]||(t[6]=s("span",{class:"float-end px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase sm:grid-cols-9"},null,-1))])]),s("div",J,[s("table",K,[t[10]||(t[10]=s("thead",null,[s("tr",{class:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase bg-gray-50 border-b"},[s("th",{class:"px-4 py-3"},"ID"),s("th",{class:"px-4 py-3"},"Clave Uso CFDI"),s("th",{class:"px-4 py-3"},"Uso CFDI"),s("th",{class:"px-4 py-3"})])],-1)),s("tbody",O,[(c(!0),w(V,null,E(m.value,e=>(c(),w("tr",{key:e.id,class:"text-gray-700 delete-button",id:"tblUsoCFDIs-"+e.id},[s("td",Q,r(e.id),1),s("td",X,r(e.clave_usocfdi),1),s("td",Y,r(e.usocfdi),1),s("td",ss,[l(p,{as:"button",onClick:u=>F(e.id),class:"icon-button-trash"},{default:a(()=>t[8]||(t[8]=[s("i",{class:"fa fa-trash"},null,-1)])),_:2},1032,["onClick"]),l(p,{as:"button",onClick:u=>h(e),class:"icon-button-edit"},{default:a(()=>t[9]||(t[9]=[s("i",{class:"fa fa-edit"},null,-1)])),_:2},1032,["onClick"])])],8,P))),128))])])])])]),_:1}))}};export{fs as default};
