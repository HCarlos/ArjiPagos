import{k as _,C as V,J as k,z as $,o as c,w as u,f as t,t as v,u as o,A as F,e as a,g,d as x}from"./vendor-DjFIUTS1.js";import{_ as U}from"./Modal-Cn6cI5Zs.js";import{_ as b}from"./InputLabel-CgOoo3kk.js";import{_ as h}from"./TextInput-DW3f-pjc.js";import{_ as y}from"./InputError-w8Dq4Fot.js";import{_ as B}from"./PrimaryButton-B0op7gHA.js";import{_ as D}from"./SecondaryButton-DM6w04Lp.js";const E={class:"p-6 bg-white rounded-lg"},I={class:"text-2xl font-bold mb-6 text-gray-800"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},S={class:"flex justify-end space-x-4 mt-8"},M={key:0},j={key:1},H={__name:"FormModalUsoCFDI",props:{show:Boolean,usocfdi:{type:Object,default:()=>({})}},emits:["close","success"],setup(n,{emit:w}){const f=n,{usocfdi:z}=f,m=w,l=_(!1),p=_({}),s=V({id:0,clave_usocfdi:"",usocfdi:""});k(()=>f.usocfdi,r=>{r.id&&s.defaults({...r}),s.reset()},{immediate:!0,deep:!0});const C=()=>{l.value=!0,p.value={};const r=s.id?`/usocfdi.update/${s.id}`:"/usocfdi.store";s.transform(e=>({...e})).submit(s.id?"put":"post",r,{preserveScroll:!0,onSuccess:()=>{m("success"),i()},onError:e=>{l.value=!1,p.value=e},onFinish:()=>{l.value=!1}})},i=()=>{s.reset(),s.clearErrors(),m("close")};return(r,e)=>(c(),$(U,{show:n.show,onClose:i,"max-width":"2xl"},{default:u(()=>[t("div",E,[t("h2",I,v(o(s).id?"Editar":"Nuevo")+" Uso CFDI ",1),t("form",{onSubmit:F(C,["prevent"])},[t("div",N,[t("div",null,[a(b,{for:"clave_usocfdi",value:"Clave Uso CFDI *",class:"mb-2 font-medium text-gray-700"}),a(h,{id:"clave_usocfdi",modelValue:o(s).clave_usocfdi,"onUpdate:modelValue":e[0]||(e[0]=d=>o(s).clave_usocfdi=d),type:"text",class:"w-full",error:o(s).errors.clave_usocfdi,maxlength:"20",required:""},null,8,["modelValue","error"]),a(y,{message:o(s).errors.clave_usocfdi,class:"mt-2"},null,8,["message"])]),t("div",null,[a(b,{for:"usocfdi",value:"Uso CFDI",class:"mb-2 font-medium text-gray-700"}),a(h,{id:"usocfdi",modelValue:o(s).usocfdi,"onUpdate:modelValue":e[1]||(e[1]=d=>o(s).usocfdi=d),type:"text",class:"w-full",error:o(s).errors.usocfdi,maxlength:"250"},null,8,["modelValue","error"]),a(y,{message:o(s).errors.usocfdi,class:"mt-2"},null,8,["message"])])]),t("div",S,[a(D,{onClick:i,type:"button"},{default:u(()=>e[2]||(e[2]=[g(" Cancelar ")])),_:1}),a(B,{type:"submit",disabled:o(s).processing},{default:u(()=>[o(s).processing?(c(),x("span",M,e[3]||(e[3]=[t("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),g(" Procesando... ")]))):(c(),x("span",j,v(o(s).id?"Actualizar":"Guardar"),1))]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]))}};export{H as default};
