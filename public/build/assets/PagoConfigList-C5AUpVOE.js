import{j as a,n as l,k as u,N as S,p as F,K as V,J as j,G as E,z as U,o as m,w as n,f as s,e as i,t as r,g as b,s as Z,H as q,d as _,F as z,q as A,W as w,$ as y}from"./vendor-DjFIUTS1.js";import{_ as L}from"./AuthenticatedLayout-wo3sCvM2.js";import{i as k,d as O}from"./arjiapp-g-pcfmCD.js";import{_ as R}from"./PrimaryButton-B0op7gHA.js";import{_ as f}from"./SecondaryButton-DM6w04Lp.js";/* empty css                */import W from"./FormModalPagoConfig-B5mRJeQz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-Cn6cI5Zs.js";import"./InputLabel-CgOoo3kk.js";import"./TextInput-DW3f-pjc.js";import"./InputError-w8Dq4Fot.js";import"./ToggleSwitch-DRPVYBwY.js";const G={class:"p-4 bg-white rounded-lg shadow-xs"},H={class:"inline-flex overflow-hidden mb-4 w-full bg-white rounded-lg shadow-md"},J={class:"px-4 py-2 -mx-3 w-full"},K={class:"mx-3 float-start"},Q={class:"font-semibold text-blue-500"},X={class:"float-end px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase sm:grid-cols-9"},Y={action:"/configuraciondepago_list"},I={class:"mt-6 overflow-x-auto"},ss={id:"datasTable",class:"w-full whitespace-no-wrap"},ts={class:"bg-white divide-y"},es=["id"],os={class:"px-4 py-3 text-sm"},as={class:"px-4 py-3 text-sm"},ls={class:"px-4 py-3 text-sm"},ns={class:"px-4 py-3 text-sm"},is={class:"px-4 py-3 text-sm td-buttons"},ys={__name:"PagoConfigList",setup(rs){const v=a(()=>l().props.pagoscat),C=a(()=>l().props.totalPagoCats),D=a(()=>l().props.niveles),M=a(()=>l().props.emisoresfiscales),P=a(()=>l().props.conceptos),B=a(()=>l().props.prodservsats),$=a(()=>l().props.unidades),d=u(""),c=u(!1),x=S({}),g=u(null),h=(o=null)=>{Object.assign(x,o||{}),c.value=!0},T=()=>{w.reload({only:["pagoscat"]})};F(()=>{k(g,[[0,"asc"]],50)}),V(()=>{O()}),j(()=>{var o;return(o=v.value)==null?void 0:o.length},()=>{E(()=>{k(g,[[0,"asc"]],50)})});const N=o=>{if(confirm("¿Estás seguro de que deseas eliminar el registro "+o+" ?")){const t=route("configuraciondepago.delete",o);w["delete"](t,{preserveScroll:!0,onSuccess:()=>{alert("El Pago "+o+" fue eliminado correctamente"),y("#tblConfiguracionDePago-"+o).remove()},onError:p=>{errors.value=p},onFinish:()=>{y("#tblConfiguracionDePago-"+o).remove()}})}};return(o,t)=>(m(),U(L,null,{default:n(()=>[s("div",G,[s("div",H,[t[7]||(t[7]=s("div",{class:"flex justify-center items-center w-12 bg-blue-500"},[s("svg",{"data-slot":"icon","aria-hidden":"true",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-white"},[s("path",{d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),s("div",J,[s("span",K,[s("span",Q,"("+r(C.value)+") USO CFDI",1),t[3]||(t[3]=s("p",{class:"text-sm text-gray-600"},"Catálago general",-1))]),i(f,{onClick:t[0]||(t[0]=e=>h())},{default:n(()=>t[4]||(t[4]=[s("i",{class:"mr-2 fas fa-plus"},null,-1),b(" Nuevo Registro ")])),_:1}),i(W,{show:c.value,pago:x,niveles:D.value,emisoresfiscales:M.value,conceptos:P.value,prodservsats:B.value,unidades:$.value,onClose:t[1]||(t[1]=e=>c.value=!1),onSuccess:T},null,8,["show","pago","niveles","emisoresfiscales","conceptos","prodservsats","unidades"]),s("span",X,[s("form",Y,[Z(s("input",{type:"text",name:"search","onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),id:"search",placeholder:"Buscar..."},null,512),[[q,d.value]]),i(R,{"class-btn":"float-end ml-2",show:d.value.length===0,disabled:d.value.length===0,type:"submit"},{default:n(()=>t[5]||(t[5]=[b("Buscar")])),_:1},8,["show","disabled"])])]),t[6]||(t[6]=s("span",{class:"float-end px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase sm:grid-cols-9"},null,-1))])]),s("div",I,[s("table",ss,[t[10]||(t[10]=s("thead",null,[s("tr",{class:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase bg-gray-50 border-b"},[s("th",{class:"px-4 py-3"},"ID"),s("th",{class:"px-4 py-3"},"Concepto de Pago"),s("th",{class:"px-4 py-3"},"Nivel"),s("th",{class:"px-4 py-3"},"Importe"),s("th",{class:"px-4 py-3"})])],-1)),s("tbody",ts,[(m(!0),_(z,null,A(v.value,e=>(m(),_("tr",{key:e.id,class:"text-gray-700 delete-button",id:"tblConfiguracionDePago-"+e.id},[s("td",os,r(e.id),1),s("td",as,r(e.concepto.concepto),1),s("td",ls,r(e.nivel.nivel),1),s("td",ns,r(e.importe_formatted),1),s("td",is,[i(f,{as:"button",onClick:p=>N(e.id),class:"icon-button-trash"},{default:n(()=>t[8]||(t[8]=[s("i",{class:"fa fa-trash"},null,-1)])),_:2},1032,["onClick"]),i(f,{as:"button",onClick:p=>h(e),class:"icon-button-edit"},{default:n(()=>t[9]||(t[9]=[s("i",{class:"fa fa-edit"},null,-1)])),_:2},1032,["onClick"])])],8,es))),128))])])])])]),_:1}))}};export{ys as default};
