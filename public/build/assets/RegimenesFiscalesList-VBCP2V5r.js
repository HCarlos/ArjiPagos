import{j as n,k as $,l as B,p as M,e as D,o as u,w as l,b as e,a as o,t as r,d as _,q as T,v as N,c as h,F as S,s as V,u as j,W as b}from"./app-C_9KI9es.js";import{_ as E}from"./AuthenticatedLayout-e38skhMb.js";import{i as v,d as w}from"./arjiapp-CMIrPfRf.js";import{$ as y}from"./jquery-S2mROG-R.js";import"./general-Csqay-Og.js";import{_ as Z}from"./PrimaryButton-Cl7XCYnZ.js";import{_ as m}from"./SecondaryButton-V28EdxOf.js";import q from"./FormModalRegimenFiscal-BUJsuoIA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-CwMvZuF2.js";import"./TextInput-Bj92w6JM.js";const A={class:"p-4 bg-white rounded-lg shadow-xs"},L={class:"inline-flex overflow-hidden mb-4 w-full bg-white rounded-lg shadow-md"},U={class:"px-4 py-2 -mx-3 w-full"},W={class:"mx-3 float-start"},z={class:"font-semibold text-blue-500"},O={class:"float-end px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase sm:grid-cols-9"},G={action:"/regimenes_fiscales_list"},H={class:"mt-6 overflow-x-auto"},J={id:"datasTable",class:"w-full whitespace-no-wrap"},K={class:"bg-white divide-y"},P=["id"],Q={class:"px-4 py-3 text-sm"},X={class:"px-4 py-3 text-sm"},Y={class:"px-4 py-3 text-sm"},I={class:"px-4 py-3 text-sm td-buttons"},ue={__name:"RegimenesFiscalesList",props:{regimenes_fiscales:{type:Object},totalRegFis:Number},setup(p){const f=p,{regimenes_fiscales:k}=f,i=n(""),d=n(!1),x=n({}),F=n(null),g=(a=null)=>{x.value=a??{},d.value=!0},C=()=>{b.reload({only:["regimenes_fiscales"]})};$(()=>{v(F,[[1,"asc"]],50)}),B(()=>{w()}),M(()=>f.regimenes_fiscales,()=>{w(),v()});const R=a=>{if(confirm("¿Estás seguro de que deseas eliminar el registro "+a+" ?")){const s=route("regifis.delete",a);b["delete"](s,{preserveScroll:!0,onSuccess:()=>{alert("El registro fiscal "+a+" fue eliminado correctamente"),y("#tblRegiFis-"+a).remove()},onError:c=>{errors.value=c},onFinish:()=>{y("#tblRegiFis-"+a).remove()}})}};return(a,s)=>(u(),D(E,null,{default:l(()=>[e("div",A,[e("div",L,[s[7]||(s[7]=e("div",{class:"flex justify-center items-center w-12 bg-blue-500"},[e("svg",{"data-slot":"icon","aria-hidden":"true",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-white"},[e("path",{d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",U,[e("span",W,[e("span",z,"("+r(p.totalRegFis)+") Regimenes Fiscales",1),s[3]||(s[3]=e("p",{class:"text-sm text-gray-600"},"Catálago general",-1))]),o(m,{onClick:s[0]||(s[0]=t=>g())},{default:l(()=>s[4]||(s[4]=[e("i",{class:"mr-2 fas fa-plus"},null,-1),_(" Nuevo Registro ")])),_:1}),o(q,{show:d.value,regimen_fiscal:x.value,onClose:s[1]||(s[1]=t=>d.value=!1),onSuccess:C},null,8,["show","regimen_fiscal"]),e("span",O,[e("form",G,[T(e("input",{type:"text",name:"search","onUpdate:modelValue":s[2]||(s[2]=t=>i.value=t),id:"search",placeholder:"Buscar..."},null,512),[[N,i.value]]),o(Z,{"class-btn":"float-end ml-2",show:i.value.length===0,disabled:i.value.length===0,type:"submit"},{default:l(()=>s[5]||(s[5]=[_("Buscar")])),_:1},8,["show","disabled"])])]),s[6]||(s[6]=e("span",{class:"float-end px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase sm:grid-cols-9"},null,-1))])]),e("div",H,[e("table",J,[s[10]||(s[10]=e("thead",null,[e("tr",{class:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase bg-gray-50 border-b"},[e("th",{class:"px-4 py-3"},"ID"),e("th",{class:"px-4 py-3"},"Clave Fiscal"),e("th",{class:"px-4 py-3"},"Regimen Fiscal"),e("th",{class:"px-4 py-3"})])],-1)),e("tbody",K,[(u(!0),h(S,null,V(j(k),t=>(u(),h("tr",{key:t.id,class:"text-gray-700 delete-button",id:"tblRegiFis-"+t.id},[e("td",Q,r(t.id),1),e("td",X,r(t.clave_regimen_fiscal),1),e("td",Y,r(t.regimen_fiscal),1),e("td",I,[o(m,{as:"button",onClick:c=>R(t.id),class:"icon-button-trash"},{default:l(()=>s[8]||(s[8]=[e("i",{class:"fa fa-trash"},null,-1)])),_:2},1032,["onClick"]),o(m,{as:"button",onClick:c=>g(t),class:"icon-button-edit"},{default:l(()=>s[9]||(s[9]=[e("i",{class:"fa fa-edit"},null,-1)])),_:2},1032,["onClick"])])],8,P))),128))])])])])]),_:1}))}};export{ue as default};
